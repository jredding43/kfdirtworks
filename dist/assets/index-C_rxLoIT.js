(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))h(c);new MutationObserver(c=>{for(const y of c)if(y.type==="childList")for(const E of y.addedNodes)E.tagName==="LINK"&&E.rel==="modulepreload"&&h(E)}).observe(document,{childList:!0,subtree:!0});function s(c){const y={};return c.integrity&&(y.integrity=c.integrity),c.referrerPolicy&&(y.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?y.credentials="include":c.crossOrigin==="anonymous"?y.credentials="omit":y.credentials="same-origin",y}function h(c){if(c.ep)return;c.ep=!0;const y=s(c);fetch(c.href,y)}})();var Zn={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yi=function(r){const n=[];let s=0;for(let h=0;h<r.length;h++){let c=r.charCodeAt(h);c<128?n[s++]=c:c<2048?(n[s++]=c>>6|192,n[s++]=c&63|128):(c&64512)===55296&&h+1<r.length&&(r.charCodeAt(h+1)&64512)===56320?(c=65536+((c&1023)<<10)+(r.charCodeAt(++h)&1023),n[s++]=c>>18|240,n[s++]=c>>12&63|128,n[s++]=c>>6&63|128,n[s++]=c&63|128):(n[s++]=c>>12|224,n[s++]=c>>6&63|128,n[s++]=c&63|128)}return n},gr=function(r){const n=[];let s=0,h=0;for(;s<r.length;){const c=r[s++];if(c<128)n[h++]=String.fromCharCode(c);else if(c>191&&c<224){const y=r[s++];n[h++]=String.fromCharCode((c&31)<<6|y&63)}else if(c>239&&c<365){const y=r[s++],E=r[s++],b=r[s++],_=((c&7)<<18|(y&63)<<12|(E&63)<<6|b&63)-65536;n[h++]=String.fromCharCode(55296+(_>>10)),n[h++]=String.fromCharCode(56320+(_&1023))}else{const y=r[s++],E=r[s++];n[h++]=String.fromCharCode((c&15)<<12|(y&63)<<6|E&63)}}return n.join("")},vi={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,n){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const s=n?this.byteToCharMapWebSafe_:this.byteToCharMap_,h=[];for(let c=0;c<r.length;c+=3){const y=r[c],E=c+1<r.length,b=E?r[c+1]:0,_=c+2<r.length,I=_?r[c+2]:0,U=y>>2,L=(y&3)<<4|b>>4;let P=(b&15)<<2|I>>6,G=I&63;_||(G=64,E||(P=64)),h.push(s[U],s[L],s[P],s[G])}return h.join("")},encodeString(r,n){return this.HAS_NATIVE_SUPPORT&&!n?btoa(r):this.encodeByteArray(yi(r),n)},decodeString(r,n){return this.HAS_NATIVE_SUPPORT&&!n?atob(r):gr(this.decodeStringToByteArray(r,n))},decodeStringToByteArray(r,n){this.init_();const s=n?this.charToByteMapWebSafe_:this.charToByteMap_,h=[];for(let c=0;c<r.length;){const y=s[r.charAt(c++)],b=c<r.length?s[r.charAt(c)]:0;++c;const I=c<r.length?s[r.charAt(c)]:64;++c;const L=c<r.length?s[r.charAt(c)]:64;if(++c,y==null||b==null||I==null||L==null)throw new mr;const P=y<<2|b>>4;if(h.push(P),I!==64){const G=b<<4&240|I>>2;if(h.push(G),L!==64){const S=I<<6&192|L;h.push(S)}}}return h},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class mr extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const yr=function(r){const n=yi(r);return vi.encodeByteArray(n,!0)},le=function(r){return yr(r).replace(/\./g,"")},vr=function(r){try{return vi.decodeString(r,!0)}catch(n){console.error("base64Decode failed: ",n)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Er(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const br=()=>Er().__FIREBASE_DEFAULTS__,wr=()=>{if(typeof process>"u"||typeof Zn>"u")return;const r=Zn.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},_r=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const n=r&&vr(r[1]);return n&&JSON.parse(n)},Ei=()=>{try{return br()||wr()||_r()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Ir=r=>{var n,s;return(s=(n=Ei())===null||n===void 0?void 0:n.emulatorHosts)===null||s===void 0?void 0:s[r]},Ar=r=>{const n=Ir(r);if(!n)return;const s=n.lastIndexOf(":");if(s<=0||s+1===n.length)throw new Error(`Invalid host ${n} with no separate hostname and port!`);const h=parseInt(n.substring(s+1),10);return n[0]==="["?[n.substring(1,s-1),h]:[n.substring(0,s),h]},bi=()=>{var r;return(r=Ei())===null||r===void 0?void 0:r.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((n,s)=>{this.resolve=n,this.reject=s})}wrapCallback(n){return(s,h)=>{s?this.reject(s):this.resolve(h),typeof n=="function"&&(this.promise.catch(()=>{}),n.length===1?n(s):n(s,h))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sr(r,n){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const s={alg:"none",type:"JWT"},h=n||"demo-project",c=r.iat||0,y=r.sub||r.user_id;if(!y)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const E=Object.assign({iss:`https://securetoken.google.com/${h}`,aud:h,iat:c,exp:c+3600,auth_time:c,sub:y,user_id:y,firebase:{sign_in_provider:"custom",identities:{}}},r);return[le(JSON.stringify(s)),le(JSON.stringify(E)),""].join(".")}function Dr(){try{return typeof indexedDB=="object"}catch{return!1}}function Cr(){return new Promise((r,n)=>{try{let s=!0;const h="validate-browser-context-for-indexeddb-analytics-module",c=self.indexedDB.open(h);c.onsuccess=()=>{c.result.close(),s||self.indexedDB.deleteDatabase(h),r(!0)},c.onupgradeneeded=()=>{s=!1},c.onerror=()=>{var y;n(((y=c.error)===null||y===void 0?void 0:y.message)||"")}}catch(s){n(s)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kr="FirebaseError";class _t extends Error{constructor(n,s,h){super(s),this.code=n,this.customData=h,this.name=kr,Object.setPrototypeOf(this,_t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wi.prototype.create)}}class wi{constructor(n,s,h){this.service=n,this.serviceName=s,this.errors=h}create(n,...s){const h=s[0]||{},c=`${this.service}/${n}`,y=this.errors[n],E=y?Pr(y,h):"Error",b=`${this.serviceName}: ${E} (${c}).`;return new _t(c,b,h)}}function Pr(r,n){return r.replace(Rr,(s,h)=>{const c=n[h];return c!=null?String(c):`<${h}?>`})}const Rr=/\{\$([^}]+)}/g;function We(r,n){if(r===n)return!0;const s=Object.keys(r),h=Object.keys(n);for(const c of s){if(!h.includes(c))return!1;const y=r[c],E=n[c];if(ti(y)&&ti(E)){if(!We(y,E))return!1}else if(y!==E)return!1}for(const c of h)if(!s.includes(c))return!1;return!0}function ti(r){return r!==null&&typeof r=="object"}class $t{constructor(n,s,h){this.name=n,this.instanceFactory=s,this.type=h,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(n){return this.instantiationMode=n,this}setMultipleInstances(n){return this.multipleInstances=n,this}setServiceProps(n){return this.serviceProps=n,this}setInstanceCreatedCallback(n){return this.onInstanceCreated=n,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pt="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(n,s){this.name=n,this.container=s,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(n){const s=this.normalizeInstanceIdentifier(n);if(!this.instancesDeferred.has(s)){const h=new Tr;if(this.instancesDeferred.set(s,h),this.isInitialized(s)||this.shouldAutoInitialize())try{const c=this.getOrInitializeService({instanceIdentifier:s});c&&h.resolve(c)}catch{}}return this.instancesDeferred.get(s).promise}getImmediate(n){var s;const h=this.normalizeInstanceIdentifier(n==null?void 0:n.identifier),c=(s=n==null?void 0:n.optional)!==null&&s!==void 0?s:!1;if(this.isInitialized(h)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:h})}catch(y){if(c)return null;throw y}else{if(c)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(n){if(n.name!==this.name)throw Error(`Mismatching Component ${n.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=n,!!this.shouldAutoInitialize()){if(Lr(n))try{this.getOrInitializeService({instanceIdentifier:pt})}catch{}for(const[s,h]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(s);try{const y=this.getOrInitializeService({instanceIdentifier:c});h.resolve(y)}catch{}}}}clearInstance(n=pt){this.instancesDeferred.delete(n),this.instancesOptions.delete(n),this.instances.delete(n)}async delete(){const n=Array.from(this.instances.values());await Promise.all([...n.filter(s=>"INTERNAL"in s).map(s=>s.INTERNAL.delete()),...n.filter(s=>"_delete"in s).map(s=>s._delete())])}isComponentSet(){return this.component!=null}isInitialized(n=pt){return this.instances.has(n)}getOptions(n=pt){return this.instancesOptions.get(n)||{}}initialize(n={}){const{options:s={}}=n,h=this.normalizeInstanceIdentifier(n.instanceIdentifier);if(this.isInitialized(h))throw Error(`${this.name}(${h}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const c=this.getOrInitializeService({instanceIdentifier:h,options:s});for(const[y,E]of this.instancesDeferred.entries()){const b=this.normalizeInstanceIdentifier(y);h===b&&E.resolve(c)}return c}onInit(n,s){var h;const c=this.normalizeInstanceIdentifier(s),y=(h=this.onInitCallbacks.get(c))!==null&&h!==void 0?h:new Set;y.add(n),this.onInitCallbacks.set(c,y);const E=this.instances.get(c);return E&&n(E,c),()=>{y.delete(n)}}invokeOnInitCallbacks(n,s){const h=this.onInitCallbacks.get(s);if(h)for(const c of h)try{c(n,s)}catch{}}getOrInitializeService({instanceIdentifier:n,options:s={}}){let h=this.instances.get(n);if(!h&&this.component&&(h=this.component.instanceFactory(this.container,{instanceIdentifier:Nr(n),options:s}),this.instances.set(n,h),this.instancesOptions.set(n,s),this.invokeOnInitCallbacks(h,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,h)}catch{}return h||null}normalizeInstanceIdentifier(n=pt){return this.component?this.component.multipleInstances?n:pt:n}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Nr(r){return r===pt?void 0:r}function Lr(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(n){this.name=n,this.providers=new Map}addComponent(n){const s=this.getProvider(n.name);if(s.isComponentSet())throw new Error(`Component ${n.name} has already been registered with ${this.name}`);s.setComponent(n)}addOrOverwriteComponent(n){this.getProvider(n.name).isComponentSet()&&this.providers.delete(n.name),this.addComponent(n)}getProvider(n){if(this.providers.has(n))return this.providers.get(n);const s=new Or(n,this);return this.providers.set(n,s),s}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var C;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(C||(C={}));const Mr={debug:C.DEBUG,verbose:C.VERBOSE,info:C.INFO,warn:C.WARN,error:C.ERROR,silent:C.SILENT},Br=C.INFO,Fr={[C.DEBUG]:"log",[C.VERBOSE]:"log",[C.INFO]:"info",[C.WARN]:"warn",[C.ERROR]:"error"},jr=(r,n,...s)=>{if(n<r.logLevel)return;const h=new Date().toISOString(),c=Fr[n];if(c)console[c](`[${h}]  ${r.name}:`,...s);else throw new Error(`Attempted to log a message with an invalid logType (value: ${n})`)};class _i{constructor(n){this.name=n,this._logLevel=Br,this._logHandler=jr,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(n){if(!(n in C))throw new TypeError(`Invalid value "${n}" assigned to \`logLevel\``);this._logLevel=n}setLogLevel(n){this._logLevel=typeof n=="string"?Mr[n]:n}get logHandler(){return this._logHandler}set logHandler(n){if(typeof n!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=n}get userLogHandler(){return this._userLogHandler}set userLogHandler(n){this._userLogHandler=n}debug(...n){this._userLogHandler&&this._userLogHandler(this,C.DEBUG,...n),this._logHandler(this,C.DEBUG,...n)}log(...n){this._userLogHandler&&this._userLogHandler(this,C.VERBOSE,...n),this._logHandler(this,C.VERBOSE,...n)}info(...n){this._userLogHandler&&this._userLogHandler(this,C.INFO,...n),this._logHandler(this,C.INFO,...n)}warn(...n){this._userLogHandler&&this._userLogHandler(this,C.WARN,...n),this._logHandler(this,C.WARN,...n)}error(...n){this._userLogHandler&&this._userLogHandler(this,C.ERROR,...n),this._logHandler(this,C.ERROR,...n)}}const Ur=(r,n)=>n.some(s=>r instanceof s);let ei,ni;function Hr(){return ei||(ei=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $r(){return ni||(ni=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ii=new WeakMap,Ge=new WeakMap,Ai=new WeakMap,je=new WeakMap,Ye=new WeakMap;function Vr(r){const n=new Promise((s,h)=>{const c=()=>{r.removeEventListener("success",y),r.removeEventListener("error",E)},y=()=>{s(lt(r.result)),c()},E=()=>{h(r.error),c()};r.addEventListener("success",y),r.addEventListener("error",E)});return n.then(s=>{s instanceof IDBCursor&&Ii.set(s,r)}).catch(()=>{}),Ye.set(n,r),n}function Wr(r){if(Ge.has(r))return;const n=new Promise((s,h)=>{const c=()=>{r.removeEventListener("complete",y),r.removeEventListener("error",E),r.removeEventListener("abort",E)},y=()=>{s(),c()},E=()=>{h(r.error||new DOMException("AbortError","AbortError")),c()};r.addEventListener("complete",y),r.addEventListener("error",E),r.addEventListener("abort",E)});Ge.set(r,n)}let ze={get(r,n,s){if(r instanceof IDBTransaction){if(n==="done")return Ge.get(r);if(n==="objectStoreNames")return r.objectStoreNames||Ai.get(r);if(n==="store")return s.objectStoreNames[1]?void 0:s.objectStore(s.objectStoreNames[0])}return lt(r[n])},set(r,n,s){return r[n]=s,!0},has(r,n){return r instanceof IDBTransaction&&(n==="done"||n==="store")?!0:n in r}};function Gr(r){ze=r(ze)}function zr(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(n,...s){const h=r.call(Ue(this),n,...s);return Ai.set(h,n.sort?n.sort():[n]),lt(h)}:$r().includes(r)?function(...n){return r.apply(Ue(this),n),lt(Ii.get(this))}:function(...n){return lt(r.apply(Ue(this),n))}}function qr(r){return typeof r=="function"?zr(r):(r instanceof IDBTransaction&&Wr(r),Ur(r,Hr())?new Proxy(r,ze):r)}function lt(r){if(r instanceof IDBRequest)return Vr(r);if(je.has(r))return je.get(r);const n=qr(r);return n!==r&&(je.set(r,n),Ye.set(n,r)),n}const Ue=r=>Ye.get(r);function Xr(r,n,{blocked:s,upgrade:h,blocking:c,terminated:y}={}){const E=indexedDB.open(r,n),b=lt(E);return h&&E.addEventListener("upgradeneeded",_=>{h(lt(E.result),_.oldVersion,_.newVersion,lt(E.transaction),_)}),s&&E.addEventListener("blocked",_=>s(_.oldVersion,_.newVersion,_)),b.then(_=>{y&&_.addEventListener("close",()=>y()),c&&_.addEventListener("versionchange",I=>c(I.oldVersion,I.newVersion,I))}).catch(()=>{}),b}const Kr=["get","getKey","getAll","getAllKeys","count"],Yr=["put","add","delete","clear"],He=new Map;function ii(r,n){if(!(r instanceof IDBDatabase&&!(n in r)&&typeof n=="string"))return;if(He.get(n))return He.get(n);const s=n.replace(/FromIndex$/,""),h=n!==s,c=Yr.includes(s);if(!(s in(h?IDBIndex:IDBObjectStore).prototype)||!(c||Kr.includes(s)))return;const y=async function(E,...b){const _=this.transaction(E,c?"readwrite":"readonly");let I=_.store;return h&&(I=I.index(b.shift())),(await Promise.all([I[s](...b),c&&_.done]))[0]};return He.set(n,y),y}Gr(r=>({...r,get:(n,s,h)=>ii(n,s)||r.get(n,s,h),has:(n,s)=>!!ii(n,s)||r.has(n,s)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(n){this.container=n}getPlatformInfoString(){return this.container.getProviders().map(s=>{if(Qr(s)){const h=s.getImmediate();return`${h.library}/${h.version}`}else return null}).filter(s=>s).join(" ")}}function Qr(r){const n=r.getComponent();return(n==null?void 0:n.type)==="VERSION"}const qe="@firebase/app",ri="0.10.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const it=new _i("@firebase/app"),Zr="@firebase/app-compat",ts="@firebase/analytics-compat",es="@firebase/analytics",ns="@firebase/app-check-compat",is="@firebase/app-check",rs="@firebase/auth",ss="@firebase/auth-compat",os="@firebase/database",as="@firebase/data-connect",hs="@firebase/database-compat",ls="@firebase/functions",us="@firebase/functions-compat",cs="@firebase/installations",fs="@firebase/installations-compat",ds="@firebase/messaging",ps="@firebase/messaging-compat",gs="@firebase/performance",ms="@firebase/performance-compat",ys="@firebase/remote-config",vs="@firebase/remote-config-compat",Es="@firebase/storage",bs="@firebase/storage-compat",ws="@firebase/firestore",_s="@firebase/vertexai",Is="@firebase/firestore-compat",As="firebase",Ts="11.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xe="[DEFAULT]",Ss={[qe]:"fire-core",[Zr]:"fire-core-compat",[es]:"fire-analytics",[ts]:"fire-analytics-compat",[is]:"fire-app-check",[ns]:"fire-app-check-compat",[rs]:"fire-auth",[ss]:"fire-auth-compat",[os]:"fire-rtdb",[as]:"fire-data-connect",[hs]:"fire-rtdb-compat",[ls]:"fire-fn",[us]:"fire-fn-compat",[cs]:"fire-iid",[fs]:"fire-iid-compat",[ds]:"fire-fcm",[ps]:"fire-fcm-compat",[gs]:"fire-perf",[ms]:"fire-perf-compat",[ys]:"fire-rc",[vs]:"fire-rc-compat",[Es]:"fire-gcs",[bs]:"fire-gcs-compat",[ws]:"fire-fst",[Is]:"fire-fst-compat",[_s]:"fire-vertex","fire-js":"fire-js",[As]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ue=new Map,Ds=new Map,Ke=new Map;function si(r,n){try{r.container.addComponent(n)}catch(s){it.debug(`Component ${n.name} failed to register with FirebaseApp ${r.name}`,s)}}function ce(r){const n=r.name;if(Ke.has(n))return it.debug(`There were multiple attempts to register component ${n}.`),!1;Ke.set(n,r);for(const s of ue.values())si(s,r);for(const s of Ds.values())si(s,r);return!0}function Cs(r,n){const s=r.container.getProvider("heartbeat").getImmediate({optional:!0});return s&&s.triggerHeartbeat(),r.container.getProvider(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ut=new wi("app","Firebase",ks);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(n,s,h){this._isDeleted=!1,this._options=Object.assign({},n),this._config=Object.assign({},s),this._name=s.name,this._automaticDataCollectionEnabled=s.automaticDataCollectionEnabled,this._container=h,this.container.addComponent(new $t("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(n){this.checkDestroyed(),this._automaticDataCollectionEnabled=n}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(n){this._isDeleted=n}checkDestroyed(){if(this.isDeleted)throw ut.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rs=Ts;function Ti(r,n={}){let s=r;typeof n!="object"&&(n={name:n});const h=Object.assign({name:Xe,automaticDataCollectionEnabled:!1},n),c=h.name;if(typeof c!="string"||!c)throw ut.create("bad-app-name",{appName:String(c)});if(s||(s=bi()),!s)throw ut.create("no-options");const y=ue.get(c);if(y){if(We(s,y.options)&&We(h,y.config))return y;throw ut.create("duplicate-app",{appName:c})}const E=new xr(c);for(const _ of Ke.values())E.addComponent(_);const b=new Ps(s,h,E);return ue.set(c,b),b}function Os(r=Xe){const n=ue.get(r);if(!n&&r===Xe&&bi())return Ti();if(!n)throw ut.create("no-app",{appName:r});return n}function bt(r,n,s){var h;let c=(h=Ss[r])!==null&&h!==void 0?h:r;s&&(c+=`-${s}`);const y=c.match(/\s|\//),E=n.match(/\s|\//);if(y||E){const b=[`Unable to register library "${c}" with version "${n}":`];y&&b.push(`library name "${c}" contains illegal characters (whitespace or "/")`),y&&E&&b.push("and"),E&&b.push(`version name "${n}" contains illegal characters (whitespace or "/")`),it.warn(b.join(" "));return}ce(new $t(`${c}-version`,()=>({library:c,version:n}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ns="firebase-heartbeat-database",Ls=1,Vt="firebase-heartbeat-store";let $e=null;function Si(){return $e||($e=Xr(Ns,Ls,{upgrade:(r,n)=>{switch(n){case 0:try{r.createObjectStore(Vt)}catch(s){console.warn(s)}}}}).catch(r=>{throw ut.create("idb-open",{originalErrorMessage:r.message})})),$e}async function xs(r){try{const s=(await Si()).transaction(Vt),h=await s.objectStore(Vt).get(Di(r));return await s.done,h}catch(n){if(n instanceof _t)it.warn(n.message);else{const s=ut.create("idb-get",{originalErrorMessage:n==null?void 0:n.message});it.warn(s.message)}}}async function oi(r,n){try{const h=(await Si()).transaction(Vt,"readwrite");await h.objectStore(Vt).put(n,Di(r)),await h.done}catch(s){if(s instanceof _t)it.warn(s.message);else{const h=ut.create("idb-set",{originalErrorMessage:s==null?void 0:s.message});it.warn(h.message)}}}function Di(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ms=1024,Bs=30*24*60*60*1e3;class Fs{constructor(n){this.container=n,this._heartbeatsCache=null;const s=this.container.getProvider("app").getImmediate();this._storage=new Us(s),this._heartbeatsCachePromise=this._storage.read().then(h=>(this._heartbeatsCache=h,h))}async triggerHeartbeat(){var n,s;try{const c=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),y=ai();return((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((s=this._heartbeatsCache)===null||s===void 0?void 0:s.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===y||this._heartbeatsCache.heartbeats.some(E=>E.date===y)?void 0:(this._heartbeatsCache.heartbeats.push({date:y,agent:c}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(E=>{const b=new Date(E.date).valueOf();return Date.now()-b<=Bs}),this._storage.overwrite(this._heartbeatsCache))}catch(h){it.warn(h)}}async getHeartbeatsHeader(){var n;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const s=ai(),{heartbeatsToSend:h,unsentEntries:c}=js(this._heartbeatsCache.heartbeats),y=le(JSON.stringify({version:2,heartbeats:h}));return this._heartbeatsCache.lastSentHeartbeatDate=s,c.length>0?(this._heartbeatsCache.heartbeats=c,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),y}catch(s){return it.warn(s),""}}}function ai(){return new Date().toISOString().substring(0,10)}function js(r,n=Ms){const s=[];let h=r.slice();for(const c of r){const y=s.find(E=>E.agent===c.agent);if(y){if(y.dates.push(c.date),hi(s)>n){y.dates.pop();break}}else if(s.push({agent:c.agent,dates:[c.date]}),hi(s)>n){s.pop();break}h=h.slice(1)}return{heartbeatsToSend:s,unsentEntries:h}}class Us{constructor(n){this.app=n,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Dr()?Cr().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const s=await xs(this.app);return s!=null&&s.heartbeats?s:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(n){var s;if(await this._canUseIndexedDBPromise){const c=await this.read();return oi(this.app,{lastSentHeartbeatDate:(s=n.lastSentHeartbeatDate)!==null&&s!==void 0?s:c.lastSentHeartbeatDate,heartbeats:n.heartbeats})}else return}async add(n){var s;if(await this._canUseIndexedDBPromise){const c=await this.read();return oi(this.app,{lastSentHeartbeatDate:(s=n.lastSentHeartbeatDate)!==null&&s!==void 0?s:c.lastSentHeartbeatDate,heartbeats:[...c.heartbeats,...n.heartbeats]})}else return}}function hi(r){return le(JSON.stringify({version:2,heartbeats:r})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hs(r){ce(new $t("platform-logger",n=>new Jr(n),"PRIVATE")),ce(new $t("heartbeat",n=>new Fs(n),"PRIVATE")),bt(qe,ri,r),bt(qe,ri,"esm2017"),bt("fire-js","")}Hs("");var $s="firebase",Vs="11.2.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bt($s,Vs,"app");var li=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ci;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function n(p,a){function u(){}u.prototype=a.prototype,p.D=a.prototype,p.prototype=new u,p.prototype.constructor=p,p.C=function(f,d,m){for(var l=Array(arguments.length-2),tt=2;tt<arguments.length;tt++)l[tt-2]=arguments[tt];return a.prototype[d].apply(f,l)}}function s(){this.blockSize=-1}function h(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}n(h,s),h.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function c(p,a,u){u||(u=0);var f=Array(16);if(typeof a=="string")for(var d=0;16>d;++d)f[d]=a.charCodeAt(u++)|a.charCodeAt(u++)<<8|a.charCodeAt(u++)<<16|a.charCodeAt(u++)<<24;else for(d=0;16>d;++d)f[d]=a[u++]|a[u++]<<8|a[u++]<<16|a[u++]<<24;a=p.g[0],u=p.g[1],d=p.g[2];var m=p.g[3],l=a+(m^u&(d^m))+f[0]+3614090360&4294967295;a=u+(l<<7&4294967295|l>>>25),l=m+(d^a&(u^d))+f[1]+3905402710&4294967295,m=a+(l<<12&4294967295|l>>>20),l=d+(u^m&(a^u))+f[2]+606105819&4294967295,d=m+(l<<17&4294967295|l>>>15),l=u+(a^d&(m^a))+f[3]+3250441966&4294967295,u=d+(l<<22&4294967295|l>>>10),l=a+(m^u&(d^m))+f[4]+4118548399&4294967295,a=u+(l<<7&4294967295|l>>>25),l=m+(d^a&(u^d))+f[5]+1200080426&4294967295,m=a+(l<<12&4294967295|l>>>20),l=d+(u^m&(a^u))+f[6]+2821735955&4294967295,d=m+(l<<17&4294967295|l>>>15),l=u+(a^d&(m^a))+f[7]+4249261313&4294967295,u=d+(l<<22&4294967295|l>>>10),l=a+(m^u&(d^m))+f[8]+1770035416&4294967295,a=u+(l<<7&4294967295|l>>>25),l=m+(d^a&(u^d))+f[9]+2336552879&4294967295,m=a+(l<<12&4294967295|l>>>20),l=d+(u^m&(a^u))+f[10]+4294925233&4294967295,d=m+(l<<17&4294967295|l>>>15),l=u+(a^d&(m^a))+f[11]+2304563134&4294967295,u=d+(l<<22&4294967295|l>>>10),l=a+(m^u&(d^m))+f[12]+1804603682&4294967295,a=u+(l<<7&4294967295|l>>>25),l=m+(d^a&(u^d))+f[13]+4254626195&4294967295,m=a+(l<<12&4294967295|l>>>20),l=d+(u^m&(a^u))+f[14]+2792965006&4294967295,d=m+(l<<17&4294967295|l>>>15),l=u+(a^d&(m^a))+f[15]+1236535329&4294967295,u=d+(l<<22&4294967295|l>>>10),l=a+(d^m&(u^d))+f[1]+4129170786&4294967295,a=u+(l<<5&4294967295|l>>>27),l=m+(u^d&(a^u))+f[6]+3225465664&4294967295,m=a+(l<<9&4294967295|l>>>23),l=d+(a^u&(m^a))+f[11]+643717713&4294967295,d=m+(l<<14&4294967295|l>>>18),l=u+(m^a&(d^m))+f[0]+3921069994&4294967295,u=d+(l<<20&4294967295|l>>>12),l=a+(d^m&(u^d))+f[5]+3593408605&4294967295,a=u+(l<<5&4294967295|l>>>27),l=m+(u^d&(a^u))+f[10]+38016083&4294967295,m=a+(l<<9&4294967295|l>>>23),l=d+(a^u&(m^a))+f[15]+3634488961&4294967295,d=m+(l<<14&4294967295|l>>>18),l=u+(m^a&(d^m))+f[4]+3889429448&4294967295,u=d+(l<<20&4294967295|l>>>12),l=a+(d^m&(u^d))+f[9]+568446438&4294967295,a=u+(l<<5&4294967295|l>>>27),l=m+(u^d&(a^u))+f[14]+3275163606&4294967295,m=a+(l<<9&4294967295|l>>>23),l=d+(a^u&(m^a))+f[3]+4107603335&4294967295,d=m+(l<<14&4294967295|l>>>18),l=u+(m^a&(d^m))+f[8]+1163531501&4294967295,u=d+(l<<20&4294967295|l>>>12),l=a+(d^m&(u^d))+f[13]+2850285829&4294967295,a=u+(l<<5&4294967295|l>>>27),l=m+(u^d&(a^u))+f[2]+4243563512&4294967295,m=a+(l<<9&4294967295|l>>>23),l=d+(a^u&(m^a))+f[7]+1735328473&4294967295,d=m+(l<<14&4294967295|l>>>18),l=u+(m^a&(d^m))+f[12]+2368359562&4294967295,u=d+(l<<20&4294967295|l>>>12),l=a+(u^d^m)+f[5]+4294588738&4294967295,a=u+(l<<4&4294967295|l>>>28),l=m+(a^u^d)+f[8]+2272392833&4294967295,m=a+(l<<11&4294967295|l>>>21),l=d+(m^a^u)+f[11]+1839030562&4294967295,d=m+(l<<16&4294967295|l>>>16),l=u+(d^m^a)+f[14]+4259657740&4294967295,u=d+(l<<23&4294967295|l>>>9),l=a+(u^d^m)+f[1]+2763975236&4294967295,a=u+(l<<4&4294967295|l>>>28),l=m+(a^u^d)+f[4]+1272893353&4294967295,m=a+(l<<11&4294967295|l>>>21),l=d+(m^a^u)+f[7]+4139469664&4294967295,d=m+(l<<16&4294967295|l>>>16),l=u+(d^m^a)+f[10]+3200236656&4294967295,u=d+(l<<23&4294967295|l>>>9),l=a+(u^d^m)+f[13]+681279174&4294967295,a=u+(l<<4&4294967295|l>>>28),l=m+(a^u^d)+f[0]+3936430074&4294967295,m=a+(l<<11&4294967295|l>>>21),l=d+(m^a^u)+f[3]+3572445317&4294967295,d=m+(l<<16&4294967295|l>>>16),l=u+(d^m^a)+f[6]+76029189&4294967295,u=d+(l<<23&4294967295|l>>>9),l=a+(u^d^m)+f[9]+3654602809&4294967295,a=u+(l<<4&4294967295|l>>>28),l=m+(a^u^d)+f[12]+3873151461&4294967295,m=a+(l<<11&4294967295|l>>>21),l=d+(m^a^u)+f[15]+530742520&4294967295,d=m+(l<<16&4294967295|l>>>16),l=u+(d^m^a)+f[2]+3299628645&4294967295,u=d+(l<<23&4294967295|l>>>9),l=a+(d^(u|~m))+f[0]+4096336452&4294967295,a=u+(l<<6&4294967295|l>>>26),l=m+(u^(a|~d))+f[7]+1126891415&4294967295,m=a+(l<<10&4294967295|l>>>22),l=d+(a^(m|~u))+f[14]+2878612391&4294967295,d=m+(l<<15&4294967295|l>>>17),l=u+(m^(d|~a))+f[5]+4237533241&4294967295,u=d+(l<<21&4294967295|l>>>11),l=a+(d^(u|~m))+f[12]+1700485571&4294967295,a=u+(l<<6&4294967295|l>>>26),l=m+(u^(a|~d))+f[3]+2399980690&4294967295,m=a+(l<<10&4294967295|l>>>22),l=d+(a^(m|~u))+f[10]+4293915773&4294967295,d=m+(l<<15&4294967295|l>>>17),l=u+(m^(d|~a))+f[1]+2240044497&4294967295,u=d+(l<<21&4294967295|l>>>11),l=a+(d^(u|~m))+f[8]+1873313359&4294967295,a=u+(l<<6&4294967295|l>>>26),l=m+(u^(a|~d))+f[15]+4264355552&4294967295,m=a+(l<<10&4294967295|l>>>22),l=d+(a^(m|~u))+f[6]+2734768916&4294967295,d=m+(l<<15&4294967295|l>>>17),l=u+(m^(d|~a))+f[13]+1309151649&4294967295,u=d+(l<<21&4294967295|l>>>11),l=a+(d^(u|~m))+f[4]+4149444226&4294967295,a=u+(l<<6&4294967295|l>>>26),l=m+(u^(a|~d))+f[11]+3174756917&4294967295,m=a+(l<<10&4294967295|l>>>22),l=d+(a^(m|~u))+f[2]+718787259&4294967295,d=m+(l<<15&4294967295|l>>>17),l=u+(m^(d|~a))+f[9]+3951481745&4294967295,p.g[0]=p.g[0]+a&4294967295,p.g[1]=p.g[1]+(d+(l<<21&4294967295|l>>>11))&4294967295,p.g[2]=p.g[2]+d&4294967295,p.g[3]=p.g[3]+m&4294967295}h.prototype.u=function(p,a){a===void 0&&(a=p.length);for(var u=a-this.blockSize,f=this.B,d=this.h,m=0;m<a;){if(d==0)for(;m<=u;)c(this,p,m),m+=this.blockSize;if(typeof p=="string"){for(;m<a;)if(f[d++]=p.charCodeAt(m++),d==this.blockSize){c(this,f),d=0;break}}else for(;m<a;)if(f[d++]=p[m++],d==this.blockSize){c(this,f),d=0;break}}this.h=d,this.o+=a},h.prototype.v=function(){var p=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);p[0]=128;for(var a=1;a<p.length-8;++a)p[a]=0;var u=8*this.o;for(a=p.length-8;a<p.length;++a)p[a]=u&255,u/=256;for(this.u(p),p=Array(16),a=u=0;4>a;++a)for(var f=0;32>f;f+=8)p[u++]=this.g[a]>>>f&255;return p};function y(p,a){var u=b;return Object.prototype.hasOwnProperty.call(u,p)?u[p]:u[p]=a(p)}function E(p,a){this.h=a;for(var u=[],f=!0,d=p.length-1;0<=d;d--){var m=p[d]|0;f&&m==a||(u[d]=m,f=!1)}this.g=u}var b={};function _(p){return-128<=p&&128>p?y(p,function(a){return new E([a|0],0>a?-1:0)}):new E([p|0],0>p?-1:0)}function I(p){if(isNaN(p)||!isFinite(p))return L;if(0>p)return D(I(-p));for(var a=[],u=1,f=0;p>=u;f++)a[f]=p/u|0,u*=4294967296;return new E(a,0)}function U(p,a){if(p.length==0)throw Error("number format error: empty string");if(a=a||10,2>a||36<a)throw Error("radix out of range: "+a);if(p.charAt(0)=="-")return D(U(p.substring(1),a));if(0<=p.indexOf("-"))throw Error('number format error: interior "-" character');for(var u=I(Math.pow(a,8)),f=L,d=0;d<p.length;d+=8){var m=Math.min(8,p.length-d),l=parseInt(p.substring(d,d+m),a);8>m?(m=I(Math.pow(a,m)),f=f.j(m).add(I(l))):(f=f.j(u),f=f.add(I(l)))}return f}var L=_(0),P=_(1),G=_(16777216);r=E.prototype,r.m=function(){if(O(this))return-D(this).m();for(var p=0,a=1,u=0;u<this.g.length;u++){var f=this.i(u);p+=(0<=f?f:4294967296+f)*a,a*=4294967296}return p},r.toString=function(p){if(p=p||10,2>p||36<p)throw Error("radix out of range: "+p);if(S(this))return"0";if(O(this))return"-"+D(this).toString(p);for(var a=I(Math.pow(p,6)),u=this,f="";;){var d=rt(u,a).g;u=Y(u,d.j(a));var m=((0<u.g.length?u.g[0]:u.h)>>>0).toString(p);if(u=d,S(u))return m+f;for(;6>m.length;)m="0"+m;f=m+f}},r.i=function(p){return 0>p?0:p<this.g.length?this.g[p]:this.h};function S(p){if(p.h!=0)return!1;for(var a=0;a<p.g.length;a++)if(p.g[a]!=0)return!1;return!0}function O(p){return p.h==-1}r.l=function(p){return p=Y(this,p),O(p)?-1:S(p)?0:1};function D(p){for(var a=p.g.length,u=[],f=0;f<a;f++)u[f]=~p.g[f];return new E(u,~p.h).add(P)}r.abs=function(){return O(this)?D(this):this},r.add=function(p){for(var a=Math.max(this.g.length,p.g.length),u=[],f=0,d=0;d<=a;d++){var m=f+(this.i(d)&65535)+(p.i(d)&65535),l=(m>>>16)+(this.i(d)>>>16)+(p.i(d)>>>16);f=l>>>16,m&=65535,l&=65535,u[d]=l<<16|m}return new E(u,u[u.length-1]&-2147483648?-1:0)};function Y(p,a){return p.add(D(a))}r.j=function(p){if(S(this)||S(p))return L;if(O(this))return O(p)?D(this).j(D(p)):D(D(this).j(p));if(O(p))return D(this.j(D(p)));if(0>this.l(G)&&0>p.l(G))return I(this.m()*p.m());for(var a=this.g.length+p.g.length,u=[],f=0;f<2*a;f++)u[f]=0;for(f=0;f<this.g.length;f++)for(var d=0;d<p.g.length;d++){var m=this.i(f)>>>16,l=this.i(f)&65535,tt=p.i(d)>>>16,It=p.i(d)&65535;u[2*f+2*d]+=l*It,X(u,2*f+2*d),u[2*f+2*d+1]+=m*It,X(u,2*f+2*d+1),u[2*f+2*d+1]+=l*tt,X(u,2*f+2*d+1),u[2*f+2*d+2]+=m*tt,X(u,2*f+2*d+2)}for(f=0;f<a;f++)u[f]=u[2*f+1]<<16|u[2*f];for(f=a;f<2*a;f++)u[f]=0;return new E(u,0)};function X(p,a){for(;(p[a]&65535)!=p[a];)p[a+1]+=p[a]>>>16,p[a]&=65535,a++}function H(p,a){this.g=p,this.h=a}function rt(p,a){if(S(a))throw Error("division by zero");if(S(p))return new H(L,L);if(O(p))return a=rt(D(p),a),new H(D(a.g),D(a.h));if(O(a))return a=rt(p,D(a)),new H(D(a.g),a.h);if(30<p.g.length){if(O(p)||O(a))throw Error("slowDivide_ only works with positive integers.");for(var u=P,f=a;0>=f.l(p);)u=Gt(u),f=Gt(f);var d=Z(u,1),m=Z(f,1);for(f=Z(f,2),u=Z(u,2);!S(f);){var l=m.add(f);0>=l.l(p)&&(d=d.add(u),m=l),f=Z(f,1),u=Z(u,1)}return a=Y(p,d.j(a)),new H(d,a)}for(d=L;0<=p.l(a);){for(u=Math.max(1,Math.floor(p.m()/a.m())),f=Math.ceil(Math.log(u)/Math.LN2),f=48>=f?1:Math.pow(2,f-48),m=I(u),l=m.j(a);O(l)||0<l.l(p);)u-=f,m=I(u),l=m.j(a);S(m)&&(m=P),d=d.add(m),p=Y(p,l)}return new H(d,p)}r.A=function(p){return rt(this,p).h},r.and=function(p){for(var a=Math.max(this.g.length,p.g.length),u=[],f=0;f<a;f++)u[f]=this.i(f)&p.i(f);return new E(u,this.h&p.h)},r.or=function(p){for(var a=Math.max(this.g.length,p.g.length),u=[],f=0;f<a;f++)u[f]=this.i(f)|p.i(f);return new E(u,this.h|p.h)},r.xor=function(p){for(var a=Math.max(this.g.length,p.g.length),u=[],f=0;f<a;f++)u[f]=this.i(f)^p.i(f);return new E(u,this.h^p.h)};function Gt(p){for(var a=p.g.length+1,u=[],f=0;f<a;f++)u[f]=p.i(f)<<1|p.i(f-1)>>>31;return new E(u,p.h)}function Z(p,a){var u=a>>5;a%=32;for(var f=p.g.length-u,d=[],m=0;m<f;m++)d[m]=0<a?p.i(m+u)>>>a|p.i(m+u+1)<<32-a:p.i(m+u);return new E(d,p.h)}h.prototype.digest=h.prototype.v,h.prototype.reset=h.prototype.s,h.prototype.update=h.prototype.u,E.prototype.add=E.prototype.add,E.prototype.multiply=E.prototype.j,E.prototype.modulo=E.prototype.A,E.prototype.compare=E.prototype.l,E.prototype.toNumber=E.prototype.m,E.prototype.toString=E.prototype.toString,E.prototype.getBits=E.prototype.i,E.fromNumber=I,E.fromString=U,Ci=E}).apply(typeof li<"u"?li:typeof self<"u"?self:typeof window<"u"?window:{});var he=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};(function(){var r,n=typeof Object.defineProperties=="function"?Object.defineProperty:function(t,e,i){return t==Array.prototype||t==Object.prototype||(t[e]=i.value),t};function s(t){t=[typeof globalThis=="object"&&globalThis,t,typeof window=="object"&&window,typeof self=="object"&&self,typeof he=="object"&&he];for(var e=0;e<t.length;++e){var i=t[e];if(i&&i.Math==Math)return i}throw Error("Cannot find global object")}var h=s(this);function c(t,e){if(e)t:{var i=h;t=t.split(".");for(var o=0;o<t.length-1;o++){var g=t[o];if(!(g in i))break t;i=i[g]}t=t[t.length-1],o=i[t],e=e(o),e!=o&&e!=null&&n(i,t,{configurable:!0,writable:!0,value:e})}}function y(t,e){t instanceof String&&(t+="");var i=0,o=!1,g={next:function(){if(!o&&i<t.length){var v=i++;return{value:e(v,t[v]),done:!1}}return o=!0,{done:!0,value:void 0}}};return g[Symbol.iterator]=function(){return g},g}c("Array.prototype.values",function(t){return t||function(){return y(this,function(e,i){return i})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var E=E||{},b=this||self;function _(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function I(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function U(t,e,i){return t.call.apply(t.bind,arguments)}function L(t,e,i){if(!t)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var g=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(g,o),t.apply(e,g)}}return function(){return t.apply(e,arguments)}}function P(t,e,i){return P=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?U:L,P.apply(null,arguments)}function G(t,e){var i=Array.prototype.slice.call(arguments,1);return function(){var o=i.slice();return o.push.apply(o,arguments),t.apply(this,o)}}function S(t,e){function i(){}i.prototype=e.prototype,t.aa=e.prototype,t.prototype=new i,t.prototype.constructor=t,t.Qb=function(o,g,v){for(var w=Array(arguments.length-2),k=2;k<arguments.length;k++)w[k-2]=arguments[k];return e.prototype[g].apply(o,w)}}function O(t){const e=t.length;if(0<e){const i=Array(e);for(let o=0;o<e;o++)i[o]=t[o];return i}return[]}function D(t,e){for(let i=1;i<arguments.length;i++){const o=arguments[i];if(_(o)){const g=t.length||0,v=o.length||0;t.length=g+v;for(let w=0;w<v;w++)t[g+w]=o[w]}else t.push(o)}}class Y{constructor(e,i){this.i=e,this.j=i,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function X(t){return/^[\s\xa0]*$/.test(t)}function H(){var t=b.navigator;return t&&(t=t.userAgent)?t:""}function rt(t){return rt[" "](t),t}rt[" "]=function(){};var Gt=H().indexOf("Gecko")!=-1&&!(H().toLowerCase().indexOf("webkit")!=-1&&H().indexOf("Edge")==-1)&&!(H().indexOf("Trident")!=-1||H().indexOf("MSIE")!=-1)&&H().indexOf("Edge")==-1;function Z(t,e,i){for(const o in t)e.call(i,t[o],o,t)}function p(t,e){for(const i in t)e.call(void 0,t[i],i,t)}function a(t){const e={};for(const i in t)e[i]=t[i];return e}const u="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function f(t,e){let i,o;for(let g=1;g<arguments.length;g++){o=arguments[g];for(i in o)t[i]=o[i];for(let v=0;v<u.length;v++)i=u[v],Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=o[i])}}function d(t){var e=1;t=t.split(":");const i=[];for(;0<e&&t.length;)i.push(t.shift()),e--;return t.length&&i.push(t.join(":")),i}function m(t){b.setTimeout(()=>{throw t},0)}function l(){var t=de;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class tt{constructor(){this.h=this.g=null}add(e,i){const o=It.get();o.set(e,i),this.h?this.h.next=o:this.g=o,this.h=o}}var It=new Y(()=>new Oi,t=>t.reset());class Oi{constructor(){this.next=this.g=this.h=null}set(e,i){this.h=e,this.g=i,this.next=null}reset(){this.next=this.g=this.h=null}}let At,Tt=!1,de=new tt,tn=()=>{const t=b.Promise.resolve(void 0);At=()=>{t.then(Ni)}};var Ni=()=>{for(var t;t=l();){try{t.h.call(t.g)}catch(i){m(i)}var e=It;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Tt=!1};function st(){this.s=this.s,this.C=this.C}st.prototype.s=!1,st.prototype.ma=function(){this.s||(this.s=!0,this.N())},st.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var Li=function(){if(!b.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const i=()=>{};b.addEventListener("test",i,e),b.removeEventListener("test",i,e)}catch{}return t}();function St(t,e){if(M.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var i=this.type=t.type,o=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(Gt){t:{try{rt(e.nodeName);var g=!0;break t}catch{}g=!1}g||(e=null)}}else i=="mouseover"?e=t.fromElement:i=="mouseout"&&(e=t.toElement);this.relatedTarget=e,o?(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:xi[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&St.aa.h.call(this)}}S(St,M);var xi={2:"touch",3:"pen",4:"mouse"};St.prototype.h=function(){St.aa.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var zt="closure_listenable_"+(1e6*Math.random()|0),Mi=0;function Bi(t,e,i,o,g){this.listener=t,this.proxy=null,this.src=e,this.type=i,this.capture=!!o,this.ha=g,this.key=++Mi,this.da=this.fa=!1}function qt(t){t.da=!0,t.listener=null,t.proxy=null,t.src=null,t.ha=null}function Xt(t){this.src=t,this.g={},this.h=0}Xt.prototype.add=function(t,e,i,o,g){var v=t.toString();t=this.g[v],t||(t=this.g[v]=[],this.h++);var w=ge(t,e,o,g);return-1<w?(e=t[w],i||(e.fa=!1)):(e=new Bi(e,this.src,v,!!o,g),e.fa=i,t.push(e)),e};function pe(t,e){var i=e.type;if(i in t.g){var o=t.g[i],g=Array.prototype.indexOf.call(o,e,void 0),v;(v=0<=g)&&Array.prototype.splice.call(o,g,1),v&&(qt(e),t.g[i].length==0&&(delete t.g[i],t.h--))}}function ge(t,e,i,o){for(var g=0;g<t.length;++g){var v=t[g];if(!v.da&&v.listener==e&&v.capture==!!i&&v.ha==o)return g}return-1}var me="closure_lm_"+(1e6*Math.random()|0),ye={};function en(t,e,i,o,g){if(Array.isArray(e)){for(var v=0;v<e.length;v++)en(t,e[v],i,o,g);return null}return i=sn(i),t&&t[zt]?t.K(e,i,I(o)?!!o.capture:!1,g):Fi(t,e,i,!1,o,g)}function Fi(t,e,i,o,g,v){if(!e)throw Error("Invalid event type");var w=I(g)?!!g.capture:!!g,k=Ee(t);if(k||(t[me]=k=new Xt(t)),i=k.add(e,i,o,w,v),i.proxy)return i;if(o=ji(),i.proxy=o,o.src=t,o.listener=i,t.addEventListener)Li||(g=w),g===void 0&&(g=!1),t.addEventListener(e.toString(),o,g);else if(t.attachEvent)t.attachEvent(rn(e.toString()),o);else if(t.addListener&&t.removeListener)t.addListener(o);else throw Error("addEventListener and attachEvent are unavailable.");return i}function ji(){function t(i){return e.call(t.src,t.listener,i)}const e=Ui;return t}function nn(t,e,i,o,g){if(Array.isArray(e))for(var v=0;v<e.length;v++)nn(t,e[v],i,o,g);else o=I(o)?!!o.capture:!!o,i=sn(i),t&&t[zt]?(t=t.i,e=String(e).toString(),e in t.g&&(v=t.g[e],i=ge(v,i,o,g),-1<i&&(qt(v[i]),Array.prototype.splice.call(v,i,1),v.length==0&&(delete t.g[e],t.h--)))):t&&(t=Ee(t))&&(e=t.g[e.toString()],t=-1,e&&(t=ge(e,i,o,g)),(i=-1<t?e[t]:null)&&ve(i))}function ve(t){if(typeof t!="number"&&t&&!t.da){var e=t.src;if(e&&e[zt])pe(e.i,t);else{var i=t.type,o=t.proxy;e.removeEventListener?e.removeEventListener(i,o,t.capture):e.detachEvent?e.detachEvent(rn(i),o):e.addListener&&e.removeListener&&e.removeListener(o),(i=Ee(e))?(pe(i,t),i.h==0&&(i.src=null,e[me]=null)):qt(t)}}}function rn(t){return t in ye?ye[t]:ye[t]="on"+t}function Ui(t,e){if(t.da)t=!0;else{e=new St(e,this);var i=t.listener,o=t.ha||t.src;t.fa&&ve(t),t=i.call(o,e)}return t}function Ee(t){return t=t[me],t instanceof Xt?t:null}var be="__closure_events_fn_"+(1e9*Math.random()>>>0);function sn(t){return typeof t=="function"?t:(t[be]||(t[be]=function(e){return t.handleEvent(e)}),t[be])}function B(){st.call(this),this.i=new Xt(this),this.M=this,this.F=null}S(B,st),B.prototype[zt]=!0,B.prototype.removeEventListener=function(t,e,i,o){nn(this,t,e,i,o)};function $(t,e){var i,o=t.F;if(o)for(i=[];o;o=o.F)i.push(o);if(t=t.M,o=e.type||e,typeof e=="string")e=new M(e,t);else if(e instanceof M)e.target=e.target||t;else{var g=e;e=new M(o,t),f(e,g)}if(g=!0,i)for(var v=i.length-1;0<=v;v--){var w=e.g=i[v];g=Kt(w,o,!0,e)&&g}if(w=e.g=t,g=Kt(w,o,!0,e)&&g,g=Kt(w,o,!1,e)&&g,i)for(v=0;v<i.length;v++)w=e.g=i[v],g=Kt(w,o,!1,e)&&g}B.prototype.N=function(){if(B.aa.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var i=t.g[e],o=0;o<i.length;o++)qt(i[o]);delete t.g[e],t.h--}}this.F=null},B.prototype.K=function(t,e,i,o){return this.i.add(String(t),e,!1,i,o)},B.prototype.L=function(t,e,i,o){return this.i.add(String(t),e,!0,i,o)};function Kt(t,e,i,o){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var g=!0,v=0;v<e.length;++v){var w=e[v];if(w&&!w.da&&w.capture==i){var k=w.listener,x=w.ha||w.src;w.fa&&pe(t.i,w),g=k.call(x,o)!==!1&&g}}return g&&!o.defaultPrevented}function on(t,e,i){if(typeof t=="function")i&&(t=P(t,i));else if(t&&typeof t.handleEvent=="function")t=P(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:b.setTimeout(t,e||0)}function an(t){t.g=on(()=>{t.g=null,t.i&&(t.i=!1,an(t))},t.l);const e=t.h;t.h=null,t.m.apply(null,e)}class Hi extends st{constructor(e,i){super(),this.m=e,this.l=i,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:an(this)}N(){super.N(),this.g&&(b.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Dt(t){st.call(this),this.h=t,this.g={}}S(Dt,st);var hn=[];function ln(t){Z(t.g,function(e,i){this.g.hasOwnProperty(i)&&ve(e)},t),t.g={}}Dt.prototype.N=function(){Dt.aa.N.call(this),ln(this)},Dt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var we=b.JSON.stringify,$i=b.JSON.parse,Vi=class{stringify(t){return b.JSON.stringify(t,void 0)}parse(t){return b.JSON.parse(t,void 0)}};function _e(){}_e.prototype.h=null;function un(t){return t.h||(t.h=t.i())}function Wi(){}var Ct={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ie(){M.call(this,"d")}S(Ie,M);function Ae(){M.call(this,"c")}S(Ae,M);var gt={},cn=null;function Te(){return cn=cn||new B}gt.La="serverreachability";function fn(t){M.call(this,gt.La,t)}S(fn,M);function kt(t){const e=Te();$(e,new fn(e))}gt.STAT_EVENT="statevent";function dn(t,e){M.call(this,gt.STAT_EVENT,t),this.stat=e}S(dn,M);function V(t){const e=Te();$(e,new dn(e,t))}gt.Ma="timingevent";function pn(t,e){M.call(this,gt.Ma,t),this.size=e}S(pn,M);function Pt(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return b.setTimeout(function(){t()},e)}function Rt(){this.g=!0}Rt.prototype.xa=function(){this.g=!1};function Gi(t,e,i,o,g,v){t.info(function(){if(t.g)if(v)for(var w="",k=v.split("&"),x=0;x<k.length;x++){var T=k[x].split("=");if(1<T.length){var F=T[0];T=T[1];var j=F.split("_");w=2<=j.length&&j[1]=="type"?w+(F+"="+T+"&"):w+(F+"=redacted&")}}else w=null;else w=v;return"XMLHTTP REQ ("+o+") [attempt "+g+"]: "+e+`
`+i+`
`+w})}function zi(t,e,i,o,g,v,w){t.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+g+"]: "+e+`
`+i+`
`+v+" "+w})}function mt(t,e,i,o){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+Xi(t,i)+(o?" "+o:"")})}function qi(t,e){t.info(function(){return"TIMEOUT: "+e})}Rt.prototype.info=function(){};function Xi(t,e){if(!t.g)return e;if(!e)return null;try{var i=JSON.parse(e);if(i){for(t=0;t<i.length;t++)if(Array.isArray(i[t])){var o=i[t];if(!(2>o.length)){var g=o[1];if(Array.isArray(g)&&!(1>g.length)){var v=g[0];if(v!="noop"&&v!="stop"&&v!="close")for(var w=1;w<g.length;w++)g[w]=""}}}}return we(i)}catch{return e}}var Se={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ki={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},De;function Yt(){}S(Yt,_e),Yt.prototype.g=function(){return new XMLHttpRequest},Yt.prototype.i=function(){return{}},De=new Yt;function ot(t,e,i,o){this.j=t,this.i=e,this.l=i,this.R=o||1,this.U=new Dt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new gn}function gn(){this.i=null,this.g="",this.h=!1}var mn={},Ce={};function ke(t,e,i){t.L=1,t.v=te(et(e)),t.m=i,t.P=!0,yn(t,null)}function yn(t,e){t.F=Date.now(),Jt(t),t.A=et(t.v);var i=t.A,o=t.R;Array.isArray(o)||(o=[String(o)]),Rn(i.i,"t",o),t.C=0,i=t.j.J,t.h=new gn,t.g=Kn(t.j,i?e:null,!t.m),0<t.O&&(t.M=new Hi(P(t.Y,t,t.g),t.O)),e=t.U,i=t.g,o=t.ca;var g="readystatechange";Array.isArray(g)||(g&&(hn[0]=g.toString()),g=hn);for(var v=0;v<g.length;v++){var w=en(i,g[v],o||e.handleEvent,!1,e.h||e);if(!w)break;e.g[w.key]=w}e=t.H?a(t.H):{},t.m?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.m,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),kt(),Gi(t.i,t.u,t.A,t.l,t.R,t.m)}ot.prototype.ca=function(t){t=t.target;const e=this.M;e&&nt(t)==3?e.j():this.Y(t)},ot.prototype.Y=function(t){try{if(t==this.g)t:{const j=nt(this.g);var e=this.g.Ba();const Et=this.g.Z();if(!(3>j)&&(j!=3||this.g&&(this.h.h||this.g.oa()||Fn(this.g)))){this.J||j!=4||e==7||(e==8||0>=Et?kt(3):kt(2)),Pe(this);var i=this.g.Z();this.X=i;e:if(vn(this)){var o=Fn(this.g);t="";var g=o.length,v=nt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ct(this),Ot(this);var w="";break e}this.h.i=new b.TextDecoder}for(e=0;e<g;e++)this.h.h=!0,t+=this.h.i.decode(o[e],{stream:!(v&&e==g-1)});o.length=0,this.h.g+=t,this.C=0,w=this.h.g}else w=this.g.oa();if(this.o=i==200,zi(this.i,this.u,this.A,this.l,this.R,j,i),this.o){if(this.T&&!this.K){e:{if(this.g){var k,x=this.g;if((k=x.g?x.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!X(k)){var T=k;break e}}T=null}if(i=T)mt(this.i,this.l,i,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Re(this,i);else{this.o=!1,this.s=3,V(12),ct(this),Ot(this);break t}}if(this.P){i=!0;let J;for(;!this.J&&this.C<w.length;)if(J=Yi(this,w),J==Ce){j==4&&(this.s=4,V(14),i=!1),mt(this.i,this.l,null,"[Incomplete Response]");break}else if(J==mn){this.s=4,V(15),mt(this.i,this.l,w,"[Invalid Chunk]"),i=!1;break}else mt(this.i,this.l,J,null),Re(this,J);if(vn(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),j!=4||w.length!=0||this.h.h||(this.s=1,V(16),i=!1),this.o=this.o&&i,!i)mt(this.i,this.l,w,"[Invalid Chunked Response]"),ct(this),Ot(this);else if(0<w.length&&!this.W){this.W=!0;var F=this.j;F.g==this&&F.ba&&!F.M&&(F.j.info("Great, no buffering proxy detected. Bytes received: "+w.length),Be(F),F.M=!0,V(11))}}else mt(this.i,this.l,w,null),Re(this,w);j==4&&ct(this),this.o&&!this.J&&(j==4?Gn(this.j,this):(this.o=!1,Jt(this)))}else dr(this.g),i==400&&0<w.indexOf("Unknown SID")?(this.s=3,V(12)):(this.s=0,V(13)),ct(this),Ot(this)}}}catch{}finally{}};function vn(t){return t.g?t.u=="GET"&&t.L!=2&&t.j.Ca:!1}function Yi(t,e){var i=t.C,o=e.indexOf(`
`,i);return o==-1?Ce:(i=Number(e.substring(i,o)),isNaN(i)?mn:(o+=1,o+i>e.length?Ce:(e=e.slice(o,o+i),t.C=o+i,e)))}ot.prototype.cancel=function(){this.J=!0,ct(this)};function Jt(t){t.S=Date.now()+t.I,En(t,t.I)}function En(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Pt(P(t.ba,t),e)}function Pe(t){t.B&&(b.clearTimeout(t.B),t.B=null)}ot.prototype.ba=function(){this.B=null;const t=Date.now();0<=t-this.S?(qi(this.i,this.A),this.L!=2&&(kt(),V(17)),ct(this),this.s=2,Ot(this)):En(this,this.S-t)};function Ot(t){t.j.G==0||t.J||Gn(t.j,t)}function ct(t){Pe(t);var e=t.M;e&&typeof e.ma=="function"&&e.ma(),t.M=null,ln(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.ma())}function Re(t,e){try{var i=t.j;if(i.G!=0&&(i.g==t||Oe(i.h,t))){if(!t.K&&Oe(i.h,t)&&i.G==3){try{var o=i.Da.g.parse(e)}catch{o=null}if(Array.isArray(o)&&o.length==3){var g=o;if(g[0]==0){t:if(!i.u){if(i.g)if(i.g.F+3e3<t.F)oe(i),re(i);else break t;Me(i),V(18)}}else i.za=g[1],0<i.za-i.T&&37500>g[2]&&i.F&&i.v==0&&!i.C&&(i.C=Pt(P(i.Za,i),6e3));if(1>=_n(i.h)&&i.ca){try{i.ca()}catch{}i.ca=void 0}}else dt(i,11)}else if((t.K||i.g==t)&&oe(i),!X(e))for(g=i.Da.g.parse(e),e=0;e<g.length;e++){let T=g[e];if(i.T=T[0],T=T[1],i.G==2)if(T[0]=="c"){i.K=T[1],i.ia=T[2];const F=T[3];F!=null&&(i.la=F,i.j.info("VER="+i.la));const j=T[4];j!=null&&(i.Aa=j,i.j.info("SVER="+i.Aa));const Et=T[5];Et!=null&&typeof Et=="number"&&0<Et&&(o=1.5*Et,i.L=o,i.j.info("backChannelRequestTimeoutMs_="+o)),o=i;const J=t.g;if(J){const ae=J.g?J.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ae){var v=o.h;v.g||ae.indexOf("spdy")==-1&&ae.indexOf("quic")==-1&&ae.indexOf("h2")==-1||(v.j=v.l,v.g=new Set,v.h&&(Ne(v,v.h),v.h=null))}if(o.D){const Fe=J.g?J.g.getResponseHeader("X-HTTP-Session-Id"):null;Fe&&(o.ya=Fe,R(o.I,o.D,Fe))}}i.G=3,i.l&&i.l.ua(),i.ba&&(i.R=Date.now()-t.F,i.j.info("Handshake RTT: "+i.R+"ms")),o=i;var w=t;if(o.qa=Xn(o,o.J?o.ia:null,o.W),w.K){In(o.h,w);var k=w,x=o.L;x&&(k.I=x),k.B&&(Pe(k),Jt(k)),o.g=w}else Vn(o);0<i.i.length&&se(i)}else T[0]!="stop"&&T[0]!="close"||dt(i,7);else i.G==3&&(T[0]=="stop"||T[0]=="close"?T[0]=="stop"?dt(i,7):xe(i):T[0]!="noop"&&i.l&&i.l.ta(T),i.v=0)}}kt(4)}catch{}}var Ji=class{constructor(t,e){this.g=t,this.map=e}};function bn(t){this.l=t||10,b.PerformanceNavigationTiming?(t=b.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(b.chrome&&b.chrome.loadTimes&&b.chrome.loadTimes()&&b.chrome.loadTimes().wasFetchedViaSpdy),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function wn(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function _n(t){return t.h?1:t.g?t.g.size:0}function Oe(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Ne(t,e){t.g?t.g.add(e):t.h=e}function In(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}bn.prototype.cancel=function(){if(this.i=An(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function An(t){if(t.h!=null)return t.i.concat(t.h.D);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const i of t.g.values())e=e.concat(i.D);return e}return O(t.i)}function Qi(t){if(t.V&&typeof t.V=="function")return t.V();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(_(t)){for(var e=[],i=t.length,o=0;o<i;o++)e.push(t[o]);return e}e=[],i=0;for(o in t)e[i++]=t[o];return e}function Zi(t){if(t.na&&typeof t.na=="function")return t.na();if(!t.V||typeof t.V!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(_(t)||typeof t=="string"){var e=[];t=t.length;for(var i=0;i<t;i++)e.push(i);return e}e=[],i=0;for(const o in t)e[i++]=o;return e}}}function Tn(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(_(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var i=Zi(t),o=Qi(t),g=o.length,v=0;v<g;v++)e.call(void 0,o[v],i&&i[v],t)}var Sn=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function tr(t,e){if(t){t=t.split("&");for(var i=0;i<t.length;i++){var o=t[i].indexOf("="),g=null;if(0<=o){var v=t[i].substring(0,o);g=t[i].substring(o+1)}else v=t[i];e(v,g?decodeURIComponent(g.replace(/\+/g," ")):"")}}}function ft(t){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,t instanceof ft){this.h=t.h,Qt(this,t.j),this.o=t.o,this.g=t.g,Zt(this,t.s),this.l=t.l;var e=t.i,i=new xt;i.i=e.i,e.g&&(i.g=new Map(e.g),i.h=e.h),Dn(this,i),this.m=t.m}else t&&(e=String(t).match(Sn))?(this.h=!1,Qt(this,e[1]||"",!0),this.o=Nt(e[2]||""),this.g=Nt(e[3]||"",!0),Zt(this,e[4]),this.l=Nt(e[5]||"",!0),Dn(this,e[6]||"",!0),this.m=Nt(e[7]||"")):(this.h=!1,this.i=new xt(null,this.h))}ft.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Lt(e,Cn,!0),":");var i=this.g;return(i||e=="file")&&(t.push("//"),(e=this.o)&&t.push(Lt(e,Cn,!0),"@"),t.push(encodeURIComponent(String(i)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i=this.s,i!=null&&t.push(":",String(i))),(i=this.l)&&(this.g&&i.charAt(0)!="/"&&t.push("/"),t.push(Lt(i,i.charAt(0)=="/"?ir:nr,!0))),(i=this.i.toString())&&t.push("?",i),(i=this.m)&&t.push("#",Lt(i,sr)),t.join("")};function et(t){return new ft(t)}function Qt(t,e,i){t.j=i?Nt(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Zt(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.s=e}else t.s=null}function Dn(t,e,i){e instanceof xt?(t.i=e,or(t.i,t.h)):(i||(e=Lt(e,rr)),t.i=new xt(e,t.h))}function R(t,e,i){t.i.set(e,i)}function te(t){return R(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Nt(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Lt(t,e,i){return typeof t=="string"?(t=encodeURI(t).replace(e,er),i&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function er(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var Cn=/[#\/\?@]/g,nr=/[#\?:]/g,ir=/[#\?]/g,rr=/[#\?@]/g,sr=/#/g;function xt(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function at(t){t.g||(t.g=new Map,t.h=0,t.i&&tr(t.i,function(e,i){t.add(decodeURIComponent(e.replace(/\+/g," ")),i)}))}r=xt.prototype,r.add=function(t,e){at(this),this.i=null,t=yt(this,t);var i=this.g.get(t);return i||this.g.set(t,i=[]),i.push(e),this.h+=1,this};function kn(t,e){at(t),e=yt(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function Pn(t,e){return at(t),e=yt(t,e),t.g.has(e)}r.forEach=function(t,e){at(this),this.g.forEach(function(i,o){i.forEach(function(g){t.call(e,g,o,this)},this)},this)},r.na=function(){at(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),i=[];for(let o=0;o<e.length;o++){const g=t[o];for(let v=0;v<g.length;v++)i.push(e[o])}return i},r.V=function(t){at(this);let e=[];if(typeof t=="string")Pn(this,t)&&(e=e.concat(this.g.get(yt(this,t))));else{t=Array.from(this.g.values());for(let i=0;i<t.length;i++)e=e.concat(t[i])}return e},r.set=function(t,e){return at(this),this.i=null,t=yt(this,t),Pn(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},r.get=function(t,e){return t?(t=this.V(t),0<t.length?String(t[0]):e):e};function Rn(t,e,i){kn(t,e),0<i.length&&(t.i=null,t.g.set(yt(t,e),O(i)),t.h+=i.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var i=0;i<e.length;i++){var o=e[i];const v=encodeURIComponent(String(o)),w=this.V(o);for(o=0;o<w.length;o++){var g=v;w[o]!==""&&(g+="="+encodeURIComponent(String(w[o]))),t.push(g)}}return this.i=t.join("&")};function yt(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function or(t,e){e&&!t.j&&(at(t),t.i=null,t.g.forEach(function(i,o){var g=o.toLowerCase();o!=g&&(kn(this,o),Rn(this,g,i))},t)),t.j=e}function ar(t,e){const i=new Rt;if(b.Image){const o=new Image;o.onload=G(ht,i,"TestLoadImage: loaded",!0,e,o),o.onerror=G(ht,i,"TestLoadImage: error",!1,e,o),o.onabort=G(ht,i,"TestLoadImage: abort",!1,e,o),o.ontimeout=G(ht,i,"TestLoadImage: timeout",!1,e,o),b.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=t}else e(!1)}function hr(t,e){const i=new Rt,o=new AbortController,g=setTimeout(()=>{o.abort(),ht(i,"TestPingServer: timeout",!1,e)},1e4);fetch(t,{signal:o.signal}).then(v=>{clearTimeout(g),v.ok?ht(i,"TestPingServer: ok",!0,e):ht(i,"TestPingServer: server error",!1,e)}).catch(()=>{clearTimeout(g),ht(i,"TestPingServer: error",!1,e)})}function ht(t,e,i,o,g){try{g&&(g.onload=null,g.onerror=null,g.onabort=null,g.ontimeout=null),o(i)}catch{}}function lr(){this.g=new Vi}function ur(t,e,i){const o=i||"";try{Tn(t,function(g,v){let w=g;I(g)&&(w=we(g)),e.push(o+v+"="+encodeURIComponent(w))})}catch(g){throw e.push(o+"type="+encodeURIComponent("_badmap")),g}}function ee(t){this.l=t.Ub||null,this.j=t.eb||!1}S(ee,_e),ee.prototype.g=function(){return new ne(this.l,this.j)},ee.prototype.i=function(t){return function(){return t}}({});function ne(t,e){B.call(this),this.D=t,this.o=e,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(ne,B),r=ne.prototype,r.open=function(t,e){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=t,this.A=e,this.readyState=1,Bt(this)},r.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.u,method:this.B,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||b).fetch(new Request(this.A,e)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Mt(this)),this.readyState=0},r.Sa=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Bt(this)),this.g&&(this.readyState=3,Bt(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof b.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;On(this)}else t.text().then(this.Ra.bind(this),this.ga.bind(this))};function On(t){t.j.read().then(t.Pa.bind(t)).catch(t.ga.bind(t))}r.Pa=function(t){if(this.g){if(this.o&&t.value)this.response.push(t.value);else if(!this.o){var e=t.value?t.value:new Uint8Array(0);(e=this.v.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Mt(this):Bt(this),this.readyState==3&&On(this)}},r.Ra=function(t){this.g&&(this.response=this.responseText=t,Mt(this))},r.Qa=function(t){this.g&&(this.response=t,Mt(this))},r.ga=function(){this.g&&Mt(this)};function Mt(t){t.readyState=4,t.l=null,t.j=null,t.v=null,Bt(t)}r.setRequestHeader=function(t,e){this.u.append(t,e)},r.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var i=e.next();!i.done;)i=i.value,t.push(i[0]+": "+i[1]),i=e.next();return t.join(`\r
`)};function Bt(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(ne.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});function Nn(t){let e="";return Z(t,function(i,o){e+=o,e+=":",e+=i,e+=`\r
`}),e}function Le(t,e,i){t:{for(o in i){var o=!1;break t}o=!0}o||(i=Nn(i),typeof t=="string"?i!=null&&encodeURIComponent(String(i)):R(t,e,i))}function N(t){B.call(this),this.headers=new Map,this.o=t||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(N,B);var cr=/^https?$/i,fr=["POST","PUT"];r=N.prototype,r.Ha=function(t){this.J=t},r.ea=function(t,e,i,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+t);e=e?e.toUpperCase():"GET",this.D=t,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():De.g(),this.v=this.o?un(this.o):un(De),this.g.onreadystatechange=P(this.Ea,this);try{this.B=!0,this.g.open(e,String(t),!0),this.B=!1}catch(v){Ln(this,v);return}if(t=i||"",i=new Map(this.headers),o)if(Object.getPrototypeOf(o)===Object.prototype)for(var g in o)i.set(g,o[g]);else if(typeof o.keys=="function"&&typeof o.get=="function")for(const v of o.keys())i.set(v,o.get(v));else throw Error("Unknown input type for opt_headers: "+String(o));o=Array.from(i.keys()).find(v=>v.toLowerCase()=="content-type"),g=b.FormData&&t instanceof b.FormData,!(0<=Array.prototype.indexOf.call(fr,e,void 0))||o||g||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[v,w]of i)this.g.setRequestHeader(v,w);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Bn(this),this.u=!0,this.g.send(t),this.u=!1}catch(v){Ln(this,v)}};function Ln(t,e){t.h=!1,t.g&&(t.j=!0,t.g.abort(),t.j=!1),t.l=e,t.m=5,xn(t),ie(t)}function xn(t){t.A||(t.A=!0,$(t,"complete"),$(t,"error"))}r.abort=function(t){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=t||7,$(this,"complete"),$(this,"abort"),ie(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ie(this,!0)),N.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Mn(this):this.bb())},r.bb=function(){Mn(this)};function Mn(t){if(t.h&&typeof E<"u"&&(!t.v[1]||nt(t)!=4||t.Z()!=2)){if(t.u&&nt(t)==4)on(t.Ea,0,t);else if($(t,"readystatechange"),nt(t)==4){t.h=!1;try{const w=t.Z();t:switch(w){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break t;default:e=!1}var i;if(!(i=e)){var o;if(o=w===0){var g=String(t.D).match(Sn)[1]||null;!g&&b.self&&b.self.location&&(g=b.self.location.protocol.slice(0,-1)),o=!cr.test(g?g.toLowerCase():"")}i=o}if(i)$(t,"complete"),$(t,"success");else{t.m=6;try{var v=2<nt(t)?t.g.statusText:""}catch{v=""}t.l=v+" ["+t.Z()+"]",xn(t)}}finally{ie(t)}}}}function ie(t,e){if(t.g){Bn(t);const i=t.g,o=t.v[0]?()=>{}:null;t.g=null,t.v=null,e||$(t,"ready");try{i.onreadystatechange=o}catch{}}}function Bn(t){t.I&&(b.clearTimeout(t.I),t.I=null)}r.isActive=function(){return!!this.g};function nt(t){return t.g?t.g.readyState:0}r.Z=function(){try{return 2<nt(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),$i(e)}};function Fn(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.H){case"":case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function dr(t){const e={};t=(t.g&&2<=nt(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let o=0;o<t.length;o++){if(X(t[o]))continue;var i=d(t[o]);const g=i[0];if(i=i[1],typeof i!="string")continue;i=i.trim();const v=e[g]||[];e[g]=v,v.push(i)}p(e,function(o){return o.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ft(t,e,i){return i&&i.internalChannelParams&&i.internalChannelParams[t]||e}function jn(t){this.Aa=0,this.i=[],this.j=new Rt,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ft("failFast",!1,t),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ft("baseRetryDelayMs",5e3,t),this.cb=Ft("retryDelaySeedMs",1e4,t),this.Wa=Ft("forwardChannelMaxRetries",2,t),this.wa=Ft("forwardChannelRequestTimeoutMs",2e4,t),this.pa=t&&t.xmlHttpFactory||void 0,this.Xa=t&&t.Tb||void 0,this.Ca=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.h=new bn(t&&t.concurrentRequestLimit),this.Da=new lr,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=t&&t.Rb||!1,t&&t.xa&&this.j.xa(),t&&t.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&t&&t.detectBufferingProxy||!1,this.ja=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.ja=t.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=jn.prototype,r.la=8,r.G=1,r.connect=function(t,e,i,o){V(0),this.W=t,this.H=e||{},i&&o!==void 0&&(this.H.OSID=i,this.H.OAID=o),this.F=this.X,this.I=Xn(this,null,this.W),se(this)};function xe(t){if(Un(t),t.G==3){var e=t.U++,i=et(t.I);if(R(i,"SID",t.K),R(i,"RID",e),R(i,"TYPE","terminate"),jt(t,i),e=new ot(t,t.j,e),e.L=2,e.v=te(et(i)),i=!1,b.navigator&&b.navigator.sendBeacon)try{i=b.navigator.sendBeacon(e.v.toString(),"")}catch{}!i&&b.Image&&(new Image().src=e.v,i=!0),i||(e.g=Kn(e.j,null),e.g.ea(e.v)),e.F=Date.now(),Jt(e)}qn(t)}function re(t){t.g&&(Be(t),t.g.cancel(),t.g=null)}function Un(t){re(t),t.u&&(b.clearTimeout(t.u),t.u=null),oe(t),t.h.cancel(),t.s&&(typeof t.s=="number"&&b.clearTimeout(t.s),t.s=null)}function se(t){if(!wn(t.h)&&!t.s){t.s=!0;var e=t.Ga;At||tn(),Tt||(At(),Tt=!0),de.add(e,t),t.B=0}}function pr(t,e){return _n(t.h)>=t.h.j-(t.s?1:0)?!1:t.s?(t.i=e.D.concat(t.i),!0):t.G==1||t.G==2||t.B>=(t.Va?0:t.Wa)?!1:(t.s=Pt(P(t.Ga,t,e),zn(t,t.B)),t.B++,!0)}r.Ga=function(t){if(this.s)if(this.s=null,this.G==1){if(!t){this.U=Math.floor(1e5*Math.random()),t=this.U++;const g=new ot(this,this.j,t);let v=this.o;if(this.S&&(v?(v=a(v),f(v,this.S)):v=this.S),this.m!==null||this.O||(g.H=v,v=null),this.P)t:{for(var e=0,i=0;i<this.i.length;i++){e:{var o=this.i[i];if("__data__"in o.map&&(o=o.map.__data__,typeof o=="string")){o=o.length;break e}o=void 0}if(o===void 0)break;if(e+=o,4096<e){e=i;break t}if(e===4096||i===this.i.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=$n(this,g,e),i=et(this.I),R(i,"RID",t),R(i,"CVER",22),this.D&&R(i,"X-HTTP-Session-Id",this.D),jt(this,i),v&&(this.O?e="headers="+encodeURIComponent(String(Nn(v)))+"&"+e:this.m&&Le(i,this.m,v)),Ne(this.h,g),this.Ua&&R(i,"TYPE","init"),this.P?(R(i,"$req",e),R(i,"SID","null"),g.T=!0,ke(g,i,null)):ke(g,i,e),this.G=2}}else this.G==3&&(t?Hn(this,t):this.i.length==0||wn(this.h)||Hn(this))};function Hn(t,e){var i;e?i=e.l:i=t.U++;const o=et(t.I);R(o,"SID",t.K),R(o,"RID",i),R(o,"AID",t.T),jt(t,o),t.m&&t.o&&Le(o,t.m,t.o),i=new ot(t,t.j,i,t.B+1),t.m===null&&(i.H=t.o),e&&(t.i=e.D.concat(t.i)),e=$n(t,i,1e3),i.I=Math.round(.5*t.wa)+Math.round(.5*t.wa*Math.random()),Ne(t.h,i),ke(i,o,e)}function jt(t,e){t.H&&Z(t.H,function(i,o){R(e,o,i)}),t.l&&Tn({},function(i,o){R(e,o,i)})}function $n(t,e,i){i=Math.min(t.i.length,i);var o=t.l?P(t.l.Na,t.l,t):null;t:{var g=t.i;let v=-1;for(;;){const w=["count="+i];v==-1?0<i?(v=g[0].g,w.push("ofs="+v)):v=0:w.push("ofs="+v);let k=!0;for(let x=0;x<i;x++){let T=g[x].g;const F=g[x].map;if(T-=v,0>T)v=Math.max(0,g[x].g-100),k=!1;else try{ur(F,w,"req"+T+"_")}catch{o&&o(F)}}if(k){o=w.join("&");break t}}}return t=t.i.splice(0,i),e.D=t,o}function Vn(t){if(!t.g&&!t.u){t.Y=1;var e=t.Fa;At||tn(),Tt||(At(),Tt=!0),de.add(e,t),t.v=0}}function Me(t){return t.g||t.u||3<=t.v?!1:(t.Y++,t.u=Pt(P(t.Fa,t),zn(t,t.v)),t.v++,!0)}r.Fa=function(){if(this.u=null,Wn(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var t=2*this.R;this.j.info("BP detection timer enabled: "+t),this.A=Pt(P(this.ab,this),t)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,V(10),re(this),Wn(this))};function Be(t){t.A!=null&&(b.clearTimeout(t.A),t.A=null)}function Wn(t){t.g=new ot(t,t.j,"rpc",t.Y),t.m===null&&(t.g.H=t.o),t.g.O=0;var e=et(t.qa);R(e,"RID","rpc"),R(e,"SID",t.K),R(e,"AID",t.T),R(e,"CI",t.F?"0":"1"),!t.F&&t.ja&&R(e,"TO",t.ja),R(e,"TYPE","xmlhttp"),jt(t,e),t.m&&t.o&&Le(e,t.m,t.o),t.L&&(t.g.I=t.L);var i=t.g;t=t.ia,i.L=1,i.v=te(et(e)),i.m=null,i.P=!0,yn(i,t)}r.Za=function(){this.C!=null&&(this.C=null,re(this),Me(this),V(19))};function oe(t){t.C!=null&&(b.clearTimeout(t.C),t.C=null)}function Gn(t,e){var i=null;if(t.g==e){oe(t),Be(t),t.g=null;var o=2}else if(Oe(t.h,e))i=e.D,In(t.h,e),o=1;else return;if(t.G!=0){if(e.o)if(o==1){i=e.m?e.m.length:0,e=Date.now()-e.F;var g=t.B;o=Te(),$(o,new pn(o,i)),se(t)}else Vn(t);else if(g=e.s,g==3||g==0&&0<e.X||!(o==1&&pr(t,e)||o==2&&Me(t)))switch(i&&0<i.length&&(e=t.h,e.i=e.i.concat(i)),g){case 1:dt(t,5);break;case 4:dt(t,10);break;case 3:dt(t,6);break;default:dt(t,2)}}}function zn(t,e){let i=t.Ta+Math.floor(Math.random()*t.cb);return t.isActive()||(i*=2),i*e}function dt(t,e){if(t.j.info("Error code "+e),e==2){var i=P(t.fb,t),o=t.Xa;const g=!o;o=new ft(o||"//www.google.com/images/cleardot.gif"),b.location&&b.location.protocol=="http"||Qt(o,"https"),te(o),g?ar(o.toString(),i):hr(o.toString(),i)}else V(2);t.G=0,t.l&&t.l.sa(e),qn(t),Un(t)}r.fb=function(t){t?(this.j.info("Successfully pinged google.com"),V(2)):(this.j.info("Failed to ping google.com"),V(1))};function qn(t){if(t.G=0,t.ka=[],t.l){const e=An(t.h);(e.length!=0||t.i.length!=0)&&(D(t.ka,e),D(t.ka,t.i),t.h.i.length=0,O(t.i),t.i.length=0),t.l.ra()}}function Xn(t,e,i){var o=i instanceof ft?et(i):new ft(i);if(o.g!="")e&&(o.g=e+"."+o.g),Zt(o,o.s);else{var g=b.location;o=g.protocol,e=e?e+"."+g.hostname:g.hostname,g=+g.port;var v=new ft(null);o&&Qt(v,o),e&&(v.g=e),g&&Zt(v,g),i&&(v.l=i),o=v}return i=t.D,e=t.ya,i&&e&&R(o,i,e),R(o,"VER",t.la),jt(t,o),o}function Kn(t,e,i){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ca&&!t.pa?new N(new ee({eb:i})):new N(t.pa),e.Ha(t.J),e}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Yn(){}r=Yn.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function K(t,e){B.call(this),this.g=new jn(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.o=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.va&&(t?t["X-WebChannel-Client-Profile"]=e.va:t={"X-WebChannel-Client-Profile":e.va}),this.g.S=t,(t=e&&e.Sb)&&!X(t)&&(this.g.m=t),this.v=e&&e.supportsCrossDomainXhr||!1,this.u=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!X(e)&&(this.g.D=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new vt(this)}S(K,B),K.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},K.prototype.close=function(){xe(this.g)},K.prototype.o=function(t){var e=this.g;if(typeof t=="string"){var i={};i.__data__=t,t=i}else this.u&&(i={},i.__data__=we(t),t=i);e.i.push(new Ji(e.Ya++,t)),e.G==3&&se(e)},K.prototype.N=function(){this.g.l=null,delete this.j,xe(this.g),delete this.g,K.aa.N.call(this)};function Jn(t){Ie.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){t:{for(const i in e){t=i;break t}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}S(Jn,Ie);function Qn(){Ae.call(this),this.status=1}S(Qn,Ae);function vt(t){this.g=t}S(vt,Yn),vt.prototype.ua=function(){$(this.g,"a")},vt.prototype.ta=function(t){$(this.g,new Jn(t))},vt.prototype.sa=function(t){$(this.g,new Qn)},vt.prototype.ra=function(){$(this.g,"b")},K.prototype.send=K.prototype.o,K.prototype.open=K.prototype.m,K.prototype.close=K.prototype.close,Se.NO_ERROR=0,Se.TIMEOUT=8,Se.HTTP_ERROR=6,Ki.COMPLETE="complete",Wi.EventType=Ct,Ct.OPEN="a",Ct.CLOSE="b",Ct.ERROR="c",Ct.MESSAGE="d",B.prototype.listen=B.prototype.K,N.prototype.listenOnce=N.prototype.L,N.prototype.getLastError=N.prototype.Ka,N.prototype.getLastErrorCode=N.prototype.Ba,N.prototype.getStatus=N.prototype.Z,N.prototype.getResponseJson=N.prototype.Oa,N.prototype.getResponseText=N.prototype.oa,N.prototype.send=N.prototype.ea,N.prototype.setWithCredentials=N.prototype.Ha}).apply(typeof he<"u"?he:typeof self<"u"?self:typeof window<"u"?window:{});const ui="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(n){this.uid=n}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(n){return n.uid===this.uid}}W.UNAUTHENTICATED=new W(null),W.GOOGLE_CREDENTIALS=new W("google-credentials-uid"),W.FIRST_PARTY=new W("first-party-uid"),W.MOCK_USER=new W("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wt="11.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wt=new _i("@firebase/firestore");function Q(r,...n){if(wt.logLevel<=C.DEBUG){const s=n.map(Je);wt.debug(`Firestore (${Wt}): ${r}`,...s)}}function ki(r,...n){if(wt.logLevel<=C.ERROR){const s=n.map(Je);wt.error(`Firestore (${Wt}): ${r}`,...s)}}function Ws(r,...n){if(wt.logLevel<=C.WARN){const s=n.map(Je);wt.warn(`Firestore (${Wt}): ${r}`,...s)}}function Je(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(s){return JSON.stringify(s)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qe(r="Unexpected state"){const n=`FIRESTORE (${Wt}) INTERNAL ASSERTION FAILED: `+r;throw ki(n),new Error(n)}function Ut(r,n){r||Qe()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class q extends _t{constructor(n,s){super(n,s),this.code=n,this.message=s,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(){this.promise=new Promise((n,s)=>{this.resolve=n,this.reject=s})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(n,s){this.user=s,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${n}`)}}class Gs{getToken(){return Promise.resolve(null)}invalidateToken(){}start(n,s){n.enqueueRetryable(()=>s(W.UNAUTHENTICATED))}shutdown(){}}class zs{constructor(n){this.token=n,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(n,s){this.changeListener=s,n.enqueueRetryable(()=>s(this.token.user))}shutdown(){this.changeListener=null}}class qs{constructor(n){this.t=n,this.currentUser=W.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(n,s){Ut(this.o===void 0);let h=this.i;const c=_=>this.i!==h?(h=this.i,s(_)):Promise.resolve();let y=new Ht;this.o=()=>{this.i++,this.currentUser=this.u(),y.resolve(),y=new Ht,n.enqueueRetryable(()=>c(this.currentUser))};const E=()=>{const _=y;n.enqueueRetryable(async()=>{await _.promise,await c(this.currentUser)})},b=_=>{Q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),E())};this.t.onInit(_=>b(_)),setTimeout(()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?b(_):(Q("FirebaseAuthCredentialsProvider","Auth not yet detected"),y.resolve(),y=new Ht)}},0),E()}getToken(){const n=this.i,s=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(s).then(h=>this.i!==n?(Q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):h?(Ut(typeof h.accessToken=="string"),new Pi(h.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const n=this.auth&&this.auth.getUid();return Ut(n===null||typeof n=="string"),new W(n)}}class Xs{constructor(n,s,h){this.l=n,this.h=s,this.P=h,this.type="FirstParty",this.user=W.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const n=this.I();return n&&this.T.set("Authorization",n),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Ks{constructor(n,s,h){this.l=n,this.h=s,this.P=h}getToken(){return Promise.resolve(new Xs(this.l,this.h,this.P))}start(n,s){n.enqueueRetryable(()=>s(W.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ys{constructor(n){this.value=n,this.type="AppCheck",this.headers=new Map,n&&n.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Js{constructor(n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(n,s){Ut(this.o===void 0);const h=y=>{y.error!=null&&Q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${y.error.message}`);const E=y.token!==this.R;return this.R=y.token,Q("FirebaseAppCheckTokenProvider",`Received ${E?"new":"existing"} token.`),E?s(y.token):Promise.resolve()};this.o=y=>{n.enqueueRetryable(()=>h(y))};const c=y=>{Q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=y,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(y=>c(y)),setTimeout(()=>{if(!this.appCheck){const y=this.A.getImmediate({optional:!0});y?c(y):Q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const n=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(n).then(s=>s?(Ut(typeof s.token=="string"),this.R=s.token,new Ys(s.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Qs(r){return r.name==="IndexedDbTransactionError"}class fe{constructor(n,s){this.projectId=n,this.database=s||"(default)"}static empty(){return new fe("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(n){return n instanceof fe&&n.projectId===this.projectId&&n.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ci,A;(A=ci||(ci={}))[A.OK=0]="OK",A[A.CANCELLED=1]="CANCELLED",A[A.UNKNOWN=2]="UNKNOWN",A[A.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",A[A.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",A[A.NOT_FOUND=5]="NOT_FOUND",A[A.ALREADY_EXISTS=6]="ALREADY_EXISTS",A[A.PERMISSION_DENIED=7]="PERMISSION_DENIED",A[A.UNAUTHENTICATED=16]="UNAUTHENTICATED",A[A.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",A[A.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",A[A.ABORTED=10]="ABORTED",A[A.OUT_OF_RANGE=11]="OUT_OF_RANGE",A[A.UNIMPLEMENTED=12]="UNIMPLEMENTED",A[A.INTERNAL=13]="INTERNAL",A[A.UNAVAILABLE=14]="UNAVAILABLE",A[A.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new Ci([4294967295,4294967295],0);function Ve(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(n,s,h=1e3,c=1.5,y=6e4){this.li=n,this.timerId=s,this.Qo=h,this.Ko=c,this.$o=y,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(n){this.cancel();const s=Math.floor(this.Uo+this.Ho()),h=Math.max(0,Date.now()-this.Go),c=Math.max(0,s-h);c>0&&Q("ExponentialBackoff",`Backing off for ${c} ms (base delay: ${this.Uo} ms, delay with jitter: ${s} ms, last attempt: ${h} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,c,()=>(this.Go=Date.now(),n())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(n,s,h,c,y){this.asyncQueue=n,this.timerId=s,this.targetTimeMs=h,this.op=c,this.removalCallback=y,this.deferred=new Ht,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(E=>{})}get promise(){return this.deferred.promise}static createAndSchedule(n,s,h,c,y){const E=Date.now()+h,b=new Ze(n,s,E,c,y);return b.start(h),b}start(n){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),n)}skipDelay(){return this.handleDelayElapsed()}cancel(n){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new q(z.CANCELLED,"Operation cancelled"+(n?": "+n:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(n=>this.deferred.resolve(n))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}var fi,di;(di=fi||(fi={})).na="default",di.Cache="cache";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function to(r){const n={};return r.timeoutSeconds!==void 0&&(n.timeoutSeconds=r.timeoutSeconds),n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pi=new Map;function eo(r,n,s,h){if(n===!0&&h===!0)throw new q(z.INVALID_ARGUMENT,`${r} and ${s} cannot be used together.`)}function no(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const n=function(h){return h.constructor?h.constructor.name:null}(r);return n?`a custom ${n} object`:"an object"}}return typeof r=="function"?"a function":Qe()}function io(r,n){if("_delegate"in r&&(r=r._delegate),!(r instanceof n)){if(n.name===r.constructor.name)throw new q(z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const s=no(r);throw new q(z.INVALID_ARGUMENT,`Expected type '${n.name}', but it was: ${s}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(n){var s,h;if(n.host===void 0){if(n.ssl!==void 0)throw new q(z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=n.host,this.ssl=(s=n.ssl)===null||s===void 0||s;if(this.credentials=n.credentials,this.ignoreUndefinedProperties=!!n.ignoreUndefinedProperties,this.localCache=n.localCache,n.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(n.cacheSizeBytes!==-1&&n.cacheSizeBytes<1048576)throw new q(z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=n.cacheSizeBytes}eo("experimentalForceLongPolling",n.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",n.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!n.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:n.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!n.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=to((h=n.experimentalLongPollingOptions)!==null&&h!==void 0?h:{}),function(y){if(y.timeoutSeconds!==void 0){if(isNaN(y.timeoutSeconds))throw new q(z.INVALID_ARGUMENT,`invalid long polling timeout: ${y.timeoutSeconds} (must not be NaN)`);if(y.timeoutSeconds<5)throw new q(z.INVALID_ARGUMENT,`invalid long polling timeout: ${y.timeoutSeconds} (minimum allowed value is 5)`);if(y.timeoutSeconds>30)throw new q(z.INVALID_ARGUMENT,`invalid long polling timeout: ${y.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!n.useFetchStreams}isEqual(n){return this.host===n.host&&this.ssl===n.ssl&&this.credentials===n.credentials&&this.cacheSizeBytes===n.cacheSizeBytes&&this.experimentalForceLongPolling===n.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===n.experimentalAutoDetectLongPolling&&function(h,c){return h.timeoutSeconds===c.timeoutSeconds}(this.experimentalLongPollingOptions,n.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===n.ignoreUndefinedProperties&&this.useFetchStreams===n.useFetchStreams}}class Ri{constructor(n,s,h,c){this._authCredentials=n,this._appCheckCredentials=s,this._databaseId=h,this._app=c,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new gi({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new q(z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(n){if(this._settingsFrozen)throw new q(z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new gi(n),n.credentials!==void 0&&(this._authCredentials=function(h){if(!h)return new Gs;switch(h.type){case"firstParty":return new Ks(h.sessionIndex||"0",h.iamToken||null,h.authTokenFactory||null);case"provider":return h.client;default:throw new q(z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(n.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(s){const h=pi.get(s);h&&(Q("ComponentProvider","Removing Datastore"),pi.delete(s),h.terminate())}(this),Promise.resolve()}}function ro(r,n,s,h={}){var c;const y=(r=io(r,Ri))._getSettings(),E=`${n}:${s}`;if(y.host!=="firestore.googleapis.com"&&y.host!==E&&Ws("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},y),{host:E,ssl:!1})),h.mockUserToken){let b,_;if(typeof h.mockUserToken=="string")b=h.mockUserToken,_=W.MOCK_USER;else{b=Sr(h.mockUserToken,(c=r._app)===null||c===void 0?void 0:c.options.projectId);const I=h.mockUserToken.sub||h.mockUserToken.user_id;if(!I)throw new q(z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new W(I)}r._authCredentials=new zs(new Pi(b,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(n=Promise.resolve()){this.Iu=[],this.du=!1,this.Eu=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new Zs(this,"async_queue_retry"),this.fu=()=>{const h=Ve();h&&Q("AsyncQueue","Visibility state changed to "+h.visibilityState),this.r_.Jo()},this.gu=n;const s=Ve();s&&typeof s.addEventListener=="function"&&s.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.du}enqueueAndForget(n){this.enqueue(n)}enqueueAndForgetEvenWhileRestricted(n){this.pu(),this.yu(n)}enterRestrictedMode(n){if(!this.du){this.du=!0,this.Vu=n||!1;const s=Ve();s&&typeof s.removeEventListener=="function"&&s.removeEventListener("visibilitychange",this.fu)}}enqueue(n){if(this.pu(),this.du)return new Promise(()=>{});const s=new Ht;return this.yu(()=>this.du&&this.Vu?Promise.resolve():(n().then(s.resolve,s.reject),s.promise)).then(()=>s.promise)}enqueueRetryable(n){this.enqueueAndForget(()=>(this.Iu.push(n),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(n){if(!Qs(n))throw n;Q("AsyncQueue","Operation failed with retryable error: "+n)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(n){const s=this.gu.then(()=>(this.Ru=!0,n().catch(h=>{this.Au=h,this.Ru=!1;const c=function(E){let b=E.message||"";return E.stack&&(b=E.stack.includes(E.message)?E.stack:E.message+`
`+E.stack),b}(h);throw ki("INTERNAL UNHANDLED ERROR: ",c),h}).then(h=>(this.Ru=!1,h))));return this.gu=s,s}enqueueAfterDelay(n,s,h){this.pu(),this.mu.indexOf(n)>-1&&(s=0);const c=Ze.createAndSchedule(this,n,s,h,y=>this.Su(y));return this.Eu.push(c),c}pu(){this.Au&&Qe()}verifyOperationInProgress(){}async bu(){let n;do n=this.gu,await n;while(n!==this.gu)}Du(n){for(const s of this.Eu)if(s.timerId===n)return!0;return!1}vu(n){return this.bu().then(()=>{this.Eu.sort((s,h)=>s.targetTimeMs-h.targetTimeMs);for(const s of this.Eu)if(s.skipDelay(),n!=="all"&&s.timerId===n)break;return this.bu()})}Cu(n){this.mu.push(n)}Su(n){const s=this.Eu.indexOf(n);this.Eu.splice(s,1)}}class so extends Ri{constructor(n,s,h,c){super(n,s,h,c),this.type="firestore",this._queue=new mi,this._persistenceKey=(c==null?void 0:c.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const n=this._firestoreClient.terminate();this._queue=new mi(n),this._firestoreClient=void 0,await n}}}function oo(r,n){const s=typeof r=="object"?r:Os(),h=typeof r=="string"?r:"(default)",c=Cs(s,"firestore").getImmediate({identifier:h});if(!c._initialized){const y=Ar("firestore");y&&ro(c,...y)}return c}(function(n,s=!0){(function(c){Wt=c})(Rs),ce(new $t("firestore",(h,{instanceIdentifier:c,options:y})=>{const E=h.getProvider("app").getImmediate(),b=new so(new qs(h.getProvider("auth-internal")),new Js(h.getProvider("app-check-internal")),function(I,U){if(!Object.prototype.hasOwnProperty.apply(I.options,["projectId"]))throw new q(z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fe(I.options.projectId,U)}(E,c),E);return y=Object.assign({useFetchStreams:s},y),b._setSettings(y),b},"PUBLIC").setMultipleInstances(!0)),bt(ui,"4.7.6",n),bt(ui,"4.7.6","esm2017")})();const ao={apiKey:"AIzaSyCKEpjag6YUR4DtowFg41GyLV2J9kOA74s",authDomain:"dirtworks-survey.firebaseapp.com",projectId:"dirtworks-survey",storageBucket:"dirtworks-survey.firebasestorage.app",messagingSenderId:"804116205838",appId:"1:804116205838:web:8e3caa99bce20b57efc75f"},ho=Ti(ao);oo(ho);document.addEventListener("DOMContentLoaded",()=>{const r=document.getElementById("inventoryLogo");if(r){let U=function(){E=0,clearTimeout(I)};var y=U;let E=0;const b=7,_=1e4;let I;r.addEventListener("mouseover",()=>{E++,E>=b?(r.classList.add("roll-off"),setTimeout(()=>{r.classList.remove("roll-off")},4e3),U()):(clearTimeout(I),I=setTimeout(U,_))})}const n=["OPENING APRIL 2nd","Check back for our latest specials!","New landscaping stones now available!","Custom soil blends for your garden!","Need storage, check out our Affiliates page!","New inventory, come see!"];let s=0;const h=document.getElementById("special-content");function c(){s=(s+1)%n.length,h.textContent=n[s]}setInterval(c,5e3)});const lo={hi:"Hello, how may I help you.  Say things like chat options to see the list of topics.",hello:"Hello, how may I help you.  Say things like chat options to see the list of topics.",hey:"Hello, how may I help you.  Say things like chat options to see the list of topics.","chat options":"Topics - General Information | Product Questions | Pricing and Ordering | Delivery and Pickup | Usage and Recommendations | Environmental and Quality | Policies","general information":`General Information Options:
1. What do you sell?
2. What are your hours of operation?
3. Where are you located?
4. Do you deliver?
5. Can I pick up my order?
6. What payment methods do you accept?`,"product questions":`Product Questions Options:
1. What types of soil do you sell?
2. Do you sell rocks or gravel?
3. Do you sell mulch or bark?
4. Can you create custom soil mixes?
5. What is the difference between fill dirt and topsoil?`,"pricing and ordering":`Pricing and Ordering Options:
1. How much does your soil cost?
2. Can I get a quote?
3. Do you offer bulk discounts?`,"delivery and pickup":`Delivery and Pickup Options:
1. How far do you deliver?
2. How much does delivery cost?
3. Do I need to schedule a pickup?`,"usage and recommendations":`Usage and Recommendations Options:
1. What soil is best for gardening?
2. What type of rock is best for drainage?
3. What type of dirt should I use for leveling my yard?
4. Do you recommend soil for raised garden beds?`,"environmental and quality":`Environmental and Quality Options:
1. Is your soil tested for quality?
2. Are your products eco-friendly?
3. Do you sell organic soil?`,policies:`Policies Options:
1. What is your return policy?
2. Do you offer refunds on delivery fees?`,help:`Here are some examples of questions I can answer:
- 'What are your hours?'
- 'Do you deliver?'
- 'What types of soil do you sell?'
- 'Can I get a quote?'

Type 'Bot Options' for more categories.`,"what do you sell":"We offer a wide array of products including various types of soil, gravel, bark, and decorative rocks to satisfy all your landscaping and project needs. For a detailed list, please visit our [Products Page](https://kfdirtworks.com/products).","hours of operation":"We are open Wednesday through Saturday, from 9 AM to 5 PM. For the most current hours, please check our [Home Page](https://kfdirtworks.com/).","where are you located":"We are located at 764 Hwy 395 N, Kettle Falls, WA 99141. You can find directions on our [Contact Us Page](https://kfdirtworks.com/contact-us).","do you deliver":"Yes, we offer delivery services. The delivery fee is $100 within a 6-mile radius or $150 per hour for longer distances. For more details, please visit our [Services Page](https://kfdirtworks.com/services).","can i pick up my order":"Absolutely! You can pick up your order directly from our location during business hours. We also offer loading services to make your pickup experience hassle-free.","what payment methods do you accept":"We accept various payment methods. For specific details, please contact us directly at (509) 738-2010.","what types of soil do you sell":"We offer several types of soil, including Soil Conditioner, Garden 3 Way Mix, and Topsoil 3 Way Mix. For detailed descriptions and pricing, please visit our [Products Page](https://kfdirtworks.com/products).","do you sell rocks or gravel":"Yes, we provide a variety of rocks and gravel, including Fill Dirt, Crushed Rock, Pea Gravel, and more. You can find the full list on our [Products Page](https://kfdirtworks.com/products).","do you sell mulch or bark":"Yes, we offer different types of bark, such as Wood Chips, Small Bark, Medium Bark, and more. For pricing and availability, please check our [Products Page](https://kfdirtworks.com/products).","can you create custom soil mixes":"While we offer a range of soil mixes, for custom soil mix inquiries, please contact us directly at (509) 738-2010.","what is the difference between fill dirt and topsoil":"Fill dirt is primarily used for grading and leveling, containing minimal organic material. Topsoil is nutrient-rich and ideal for planting and gardening.","how much does your soil cost":"Our soil prices vary depending on the type. For example, Soil Conditioner is $65.00 per cubic yard, Garden 3 Way Mix is $40.00 per cubic yard, and Topsoil 3 Way Mix is $30.00 per cubic yard. For a complete list, please visit our [Products Page](https://kfdirtworks.com/products).","can i get a quote":"Certainly! Please contact us at (509) 738-2010 or visit our [Contact Us Page](https://kfdirtworks.com/contact-us) to request a quote.","do you offer bulk discounts":"For information on bulk discounts, please contact us directly at (509) 738-2010.","how far do you deliver":"We deliver within a 6-mile radius for a $100 fee. For distances beyond that, the delivery fee is $150 per hour round trip. More details are available on our [Services Page](https://kfdirtworks.com/services).","do i need to schedule a pickup":"While not mandatory, scheduling a pickup in advance ensures your order is ready upon arrival. Please contact us at (509) 738-2010 to arrange a pickup.","what soil is best for gardening":"Our Garden 3 Way Mix, consisting of 60% Topsoil, 20% Soil Conditioner, and 20% Sand, is ideal for gardening purposes.","what type of rock is best for drainage":'Crushed rocks like 5/8" Minus Crushed or CV Drain Rock 2" are excellent choices for drainage solutions.',"what type of dirt should i use for leveling my yard":"Fill Dirt is suitable for leveling and grading projects due to its compact nature.","do you recommend soil for raised garden beds":"Yes, our Garden 3 Way Mix is highly recommended for raised garden beds.","is your soil tested for quality":"We ensure all our products meet high-quality standards. For specific testing information, please contact us directly.","are your products eco-friendly":"We strive to offer eco-friendly products. For detailed information, please reach out to us at (509) 738-2010.","do you sell organic soil":"For inquiries about organic soil options, please contact us directly.","what is your return policy":"For details on our return policy, please contact us at (509) 738-2010."};new Fuse(Object.keys(lo),{threshold:.4});document.addEventListener("DOMContentLoaded",()=>{JSON.parse(localStorage.getItem("chatbotOpen"))&&document.querySelector(".chatbot-container").classList.remove("hidden")});document.addEventListener("DOMContentLoaded",()=>{const r=document.getElementById("open-survey-btn"),n=document.getElementById("survey-modal"),s=document.getElementById("pre-survey-form"),h=document.getElementById("pre-survey-step"),c=document.getElementById("survey-questions-step"),y=document.getElementById("survey-questions"),E=document.getElementById("next-question-btn"),b=document.getElementById("user-fname"),_=document.getElementById("user-lname"),I=document.getElementById("user-phone"),U=document.getElementById("cancel-survey-btn");if(n&&(n.style.display="none",console.log("Survey modal hidden on load.")),!r||!n||!s||!c||!y||!E){console.error("One or more required elements are missing in the DOM.");return}const L=[`<h2>1. What is your level of gardening experience?</h2>
        <label><input type="radio" name="experience" value="Beginner"> Beginner</label><br>
        <label><input type="radio" name="experience" value="Intermediate"> Intermediate</label><br>
        <label><input type="radio" name="experience" value="Advanced"> Advanced</label><br>`,`<h2>2. What are you most interested in?</h2>
        <label><input type="checkbox" name="interests" value="Indoor plants"> Indoor plants</label><br>
        <label><input type="checkbox" name="interests" value="Outdoor plants"> Outdoor plants</label><br>
        <label><input type="checkbox" name="interests" value="Growing fruits"> Growing fruits</label><br>
        <label><input type="checkbox" name="interests" value="Growing vegetables"> Growing vegetables</label><br>
        <label><input type="checkbox" name="interests" value="Flower gardening"> Flower gardening</label><br>
        <label><input type="checkbox" name="interests" value="Succulents and cacti"> Succulents and cacti</label><br>
        <label><input type="checkbox" name="interests" value="Herbs"> Herbs for cooking or medicinal use</label><br>
        <label><input type="checkbox" name="interests" value="Seed starting and propagation"> Seed starting and propagation</label><br>
        <label><input type="checkbox" name="interests" value="Native plants"> Native plants and wildflowers</label><br>
        <label><input type="checkbox" name="interests" value="Sustainable gardening"> Sustainable gardening</label><br>`,`<h2>3. How often do you purchase plants or gardening supplies?</h2>
        <label><input type="radio" name="purchase_frequency" value="Weekly"> Weekly</label><br>
        <label><input type="radio" name="purchase_frequency" value="Monthly"> Monthly</label><br>
        <label><input type="radio" name="purchase_frequency" value="Few times a year"> A few times a year</label><br>
        <label><input type="radio" name="purchase_frequency" value="Rarely"> Rarely</label><br>`,`<h2>4. What type of plants do you prefer?</h2>
        <label><input type="checkbox" name="plant_types" value="Low-maintenance plants"> Low-maintenance plants</label><br>
        <label><input type="checkbox" name="plant_types" value="Rare or exotic plants"> Rare or exotic plants</label><br>
        <label><input type="checkbox" name="plant_types" value="Edible plants"> Edible plants (e.g., fruits, vegetables, herbs)</label><br>
        <label><input type="checkbox" name="plant_types" value="Seasonal plants"> Seasonal plants (e.g., holiday plants)</label><br>
        <label><input type="checkbox" name="plant_types" value="Native plants"> Native plants</label><br>`,`<h2>5. What motivates your interest in plants or gardening?</h2>
        <label><input type="checkbox" name="motivations" value="Home aesthetics"> Improving home aesthetics</label><br>
        <label><input type="checkbox" name="motivations" value="Growing food"> Growing my own food</label><br>
        <label><input type="checkbox" name="motivations" value="Relaxation"> Relaxation and stress relief</label><br>
        <label><input type="checkbox" name="motivations" value="Environmental impact"> Environmental impact and sustainability</label><br>
        <label><input type="checkbox" name="motivations" value="Hobby"> A hobby or passion</label><br>
        <label><input type="checkbox" name="motivations" value="Teaching"> Teaching children or family about nature</label><br>
        <label><input type="checkbox" name="motivations" value="Health benefits"> Health benefits (e.g., air purification, medicinal use)</label><br>`];let P=0;r==null||r.addEventListener("click",()=>{console.log("Survey button clicked."),n.style.display="flex",O()}),document.addEventListener("click",D=>{D.target!==r&&(n.style.display="none")}),s.addEventListener("submit",D=>{D.preventDefault();const Y=b.value.trim(),X=_.value.trim(),H=I.value.trim();if(!Y||!X||!H){alert("Please enter your first name, last name, and phone number.");return}console.log("User entered:",{fname:Y,lname:X,phone:H}),h.style.display="none",c.style.display="block",G(P),O()});function G(D){y.innerHTML=L[D],O()}U.addEventListener("click",()=>{confirm("Are you sure you want to exit the survey? Your progress will not be saved.")&&S()});function S(){n.style.display="none",h.style.display="block",c.style.display="none",P=0,s.reset(),O()}function O(){const D=document.getElementById("progress-bar");if(D){const Y=(P+1)/L.length*100;D.style.width=`${Y}%`}}});
